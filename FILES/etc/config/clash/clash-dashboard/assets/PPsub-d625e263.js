import{u as pe,r as y,j as e}from"./index-7d6a4c5b.js";function he(){var Z;const{t:ue,i18n:q}=pe(),[f,j]=y.useState([]),[p,h]=y.useState([]),[u,x]=y.useState([]),[xe,I]=y.useState(new Set);y.useState(!1),y.useState([]),y.useState({x:0,y:0}),y.useState(null);const[z,L]=y.useState(!1),[F,Q]=y.useState({x:0,y:0}),[C,ee]=y.useState(null),[w,R]=y.useState(null),W=y.useRef(null),[H,T]=y.useState(null),[k,K]=y.useState(""),[te,_]=y.useState(null),[G,B]=y.useState(!1),[O,U]=y.useState(""),[J,M]=y.useState(3),[E,D]=y.useState("0"),[X,N]=y.useState(""),[A,$]=y.useState({show:!1,message:"",type:"info"}),l=(Z=q.language)==null?void 0:Z.startsWith("zh"),i={title:l?"PPsub配置编辑器":"PPsub Config Editor",exportJson:l?"导出配置":"Export JSON",importJson:l?"导入配置":"Import JSON",loadCurrent:l?"当前配置":"Current Config",authError:l?"未授权访问: 请先登录":"Unauthorized: Please login first",configNotFound:l?"当前配置不存在":"Current config not found",loadSuccessWarn:l?"当前只读配置仅供载入编辑器，编辑完成后请不要忘记导出配置！":"Read-only config loaded. Don't forget to Export after editing!",loadError:l?"加载失败: ":"Load Failed: ",monitorTitle:l?"全局健康监测":"Global Health Monitor",enableMonitor:l?"开启全局健康监测":"Enable Global Health Monitor",monitorUrl:l?"监测URL":"Check URL",monitorUrlDesc:l?"若为空，默认为 https://www.youtube.com/generate_204":"Default: https://www.youtube.com/generate_204 if empty",monitorRetries:l?"失败重载阈值 (次)":"Failure Threshold (Times)",monitorRetriesDesc:l?"当连续监测失败达到此次数后，重载所有配置。":"Reload all configs after consecutive failures reach this count.",monitorStatus:l?"期望返回码":"Expected Status",monitorStatusAny:l?"任意 (Any)":"Any",monitorStatusCustom:l?"自定义":"Custom",monitorCustomPlaceholder:l?"输入状态码 (如 200) 或范围 (如 200-399)":"Code (e.g. 200) or Range (e.g. 200-399)",subsTitle:l?"订阅提供商":"Subscription Providers",addSub:l?"添加订阅提供商":"Add Provider",nodeGroupsTitle:l?"节点组":"Node Groups",addNodeGroup:l?"添加节点组":"Add Node Group",ruleSetsTitle:l?"规则组":"Rule Group",addRuleSet:l?"添加规则组":"Add Rule",name:l?"名称":"Name",url:"URL",forcedDep:l?"强制依赖":"Forced Dependency",forcedDepDesc:l?"如果有强制依赖的属性，下载失败则视为处理失败。":"If forced dependency is set, download failure will be treated as processing failure.",deleteSub:l?"删除此订阅提供商":"Delete Provider",deleteNodeGroup:l?"删除此节点组":"Delete Node Group",deleteRuleSet:l?"删除此规则组":"Delete Rule Set",nodeGroupName:l?"节点组名称":"Node Group Name",nodeMode:l?"节点模式":"Node Mode",speedtestMode:l?"测速模式":"Speedtest Mode",manualMode:l?"手动选择模式":"Manual Selection Mode",speedtestUrl:l?"测速URL":"Speedtest URL",speedtestInterval:l?"测速间隔":"Speedtest Interval",keywords:l?"节点关键字":"Node Keywords",excludeKeywords:l?"排除关键字":"Exclude Keywords",subsProvider:l?"订阅提供商":"Subscription Providers",addKeyword:l?"添加关键字":"Add Keyword",addExcludeKeyword:l?"添加排除关键字":"Add Exclude Keyword",selectSub:l?"选择订阅":"Select Subscription",all:l?"全部":"All",ruleType:l?"规则类型":"Rule Type",manualRule:l?"手写规则":"Manual Rule",urlDownload:l?"URL下载":"URL Download",ruleSetType:l?"RULE-SET订阅":"RULE-SET Sub",ruleUrl:l?"规则URL":"Rule URL",ruleContent:l?"规则内容":"Rule Content",moveUp:l?"上移":"Move Up",moveDown:l?"下移":"Move Down",addRemark:l?"点击添加备注...":"Click to add remark...",topPriority:l?"最优先":"Top Priority",highPriority:l?"次优先":"High Priority",lastPriority:l?"最后":"Last",priority:l?"优先级":"Priority",confirm:l?"确认删除":"Confirm Delete",cancel:l?"取消":"Cancel",emptyState:l?"暂无数据，点击下方按钮添加":"No data yet, click button below to add",importFailed:l?"导入失败":"Import failed",intervalPlaceholder:l?"留空默认为600秒":"Default 600s if empty",behavior:l?"行为(Behavior)":"Behavior",ruleSetInterval:l?"更新间隔(秒)":"Interval (s)",ruleFormat:l?"格式(Format)":"Format",downloadViaProxy:l?"通过节点组下载":"Download via Node Group",selectProxy:l?"选择或输入节点组":"Select or type Group",copy:l?"复制":"Copy",copySuffix:l?"-复制":"-copy"},g=(r,n)=>{$({show:!0,message:r,type:n}),setTimeout(()=>$(s=>({...s,show:!1})),5e3)},Y=r=>{try{if(r.global_monitor){B(!!r.global_monitor.enable),U(r.global_monitor.url||""),M(r.global_monitor.retries!==void 0?r.global_monitor.retries:3);const s=String(r.global_monitor.expected_status||"0");["0","200","204","200-399"].includes(s)?(D(s),N("")):(D("custom"),N(s))}else B(!1),U(""),M(3),D("0"),N("");j((r.subs||[]).map(s=>({name:s.name||"",url:s.url||"",isforced:s.isforced||!1}))),h((r["node-groups"]||[]).map(s=>({name:s.name||"",keywords:s.keywords||[],exclude_keywords:s.exclude_keywords||[],subs:s.subs||[],mode:s.speedtest_url||s.interval?"speedtest":"manual",speedtest_url:s.speedtest_url||"",interval:s.interval?String(s.interval):""})));const n=r.rules||r["rule-sets"]||[];x(n.map((s,a)=>{let o="manual";s.type==="rule-set"?o="rule-set":s.url&&(o="url");let d="";return o==="manual"&&(Array.isArray(s.fixrule)?d=s.fixrule.join(`
`):s.content&&(d=s.content)),{priority:a+1,remark:s.remark||"",name:s.name||"",type:o,url:s.url||"",content:d,isforced:s.isforced||!1,behavior:s.behavior||"classical",interval:s.interval||86400,format:s.format||"yaml",use_proxy:!!s.proxy,proxy_group:s.proxy||""}}))}catch(n){throw n}},oe=()=>{let r=E;E==="custom"&&(r=X);const n=O.trim()===""?"https://www.youtube.com/generate_204":O,s={version:"1.0",exported_at:new Date().toISOString(),global_monitor:{enable:G,url:n,retries:J,expected_status:r},subs:f.map(c=>{const b={name:c.name,url:c.url};return c.isforced&&(b.isforced=!0),b}),"node-groups":p.map(c=>{var m,S;const b={name:c.name,keywords:c.keywords.filter(v=>typeof v=="string"),exclude_keywords:c.exclude_keywords.filter(v=>typeof v=="string"),subs:c.subs.length>0?c.subs:["all"]};return c.mode==="speedtest"&&((m=c.speedtest_url)!=null&&m.trim()&&(b.speedtest_url=c.speedtest_url.trim()),b.interval=(S=c.interval)!=null&&S.trim()?parseInt(c.interval.trim()):600),b}),rules:u.map((c,b)=>{const m={priority:(b+1)*10};if(c.remark&&(m.remark=c.remark),c.type==="rule-set")m.type="rule-set",m.name=c.name||`ruleset_${b}`,m.url=c.url,m.behavior=c.behavior||"classical",m.interval=c.interval||86400,m.format=c.format||"yaml",c.use_proxy&&c.proxy_group&&(m.proxy=c.proxy_group);else if(c.type==="url")m.url=c.url,c.isforced&&(m.isforced=!0);else{const S=(c.content||"").split(`
`).map(v=>ne(v)).filter(v=>v!==null);m.fixrule=S}return m})},a=new Blob([JSON.stringify(s,null,2)],{type:"application/json"}),o=URL.createObjectURL(a),d=document.createElement("a");d.href=o,d.download="ppsub.json",d.click(),URL.revokeObjectURL(o)},re=r=>{var a;const n=(a=r.target.files)==null?void 0:a[0];if(!n)return;const s=new FileReader;s.onload=o=>{var d;try{const c=JSON.parse((d=o.target)==null?void 0:d.result);Y(c)}catch(c){alert(`${i.importFailed}: ${c}`)}},s.readAsText(n),r.target&&(r.target.value="")},se=async()=>{const r="PaoPaoGateWay",n=localStorage.getItem(r);let s="";if(!n){g(i.authError,"error");return}try{const a=JSON.parse(n);if(!a.clashAPIConfigs||a.clashAPIConfigs.length===0){g(i.authError,"error");return}s=a.clashAPIConfigs[0].secret}catch{g(i.authError,"error");return}try{if(!(await fetch("/version",{headers:{Authorization:"Bearer "+s}})).ok){g(i.authError,"error");return}}catch{g(i.authError,"error");return}try{const a=Math.floor(Date.now()/1e3),o=await fetch(`./ppsub_readonly/ppsub_readkey.json?_=${a}`);if(!o.ok){g(i.configNotFound,"error");return}const c=(await o.json()).ppsub_readkey;if(!c){g(i.configNotFound,"error");return}const m=`./ppsub_readonly/${sha256(c+s)}/ppsub.json?t=${a}`,S=await fetch(m);if(!S.ok){g(i.configNotFound,"error");return}const v=await S.json();Y(v),g(i.loadSuccessWarn,"success")}catch(a){console.error(a),g(i.loadError+(a.message||"Unknown error"),"error")}},ne=r=>{r=r.trim().replace(/^[-\s]+/,"");const n=r.indexOf("#");if(n!==-1&&(r=r.substring(0,n).trim()),!r)return null;const s=r.indexOf(",");if(s===-1)return r.toUpperCase().replace(/[-\s_]/g,"")==="MATCH"?"MATCH,auto":null;const a=r.substring(0,s).trim(),o=r.substring(s+1).trim(),d=a.toUpperCase().replace(/[-\s_]/g,""),c={DOMAIN:"DOMAIN",DOMAINSUFFIX:"DOMAIN-SUFFIX",DOMAINKEYWORD:"DOMAIN-KEYWORD",DOMAINWILDCARD:"DOMAIN-WILDCARD",DOMAINREGEX:"DOMAIN-REGEX",GEOSITE:"GEOSITE",IPCIDR:"IP-CIDR",IPCIDR6:"IP-CIDR6",IPSUFFIX:"IP-SUFFIX",IPASN:"IP-ASN",GEOIP:"GEOIP",SRCGEOIP:"SRC-GEOIP",SRCIPASN:"SRC-IP-ASN",SRCIPCIDR:"SRC-IP-CIDR",SRCIPSUFFIX:"SRC-IP-SUFFIX",SRCPORT:"SRC-PORT",DSTPORT:"DST-PORT",NETWORK:"NETWORK",RULESET:"RULE-SET",SUBRULE:"SUB-RULE",AND:"AND",OR:"OR",NOT:"NOT",MATCH:"MATCH"};return c.hasOwnProperty(d)?`${c[d]},${o}`:null},ae=(r,n)=>{r==="sub"?j(s=>s.filter((a,o)=>o!==n)):r==="nodeGroup"?h(s=>s.filter((a,o)=>o!==n)):r==="ruleSet"&&x(s=>s.filter((o,d)=>d!==n).map((o,d)=>({...o,priority:d+1}))),R(null)},le=r=>{const n=[...f],s={...n[r]};s.name=s.name+i.copySuffix,n.splice(r+1,0,s),j(n)},ie=r=>{const n=[...p],s=n[r],a={...s,keywords:JSON.parse(JSON.stringify(s.keywords)),exclude_keywords:JSON.parse(JSON.stringify(s.exclude_keywords)),subs:[...s.subs],name:s.name+i.copySuffix};a.keywords=a.keywords.map(o=>typeof o=="object"&&o.isNew?{...o,id:Date.now()+Math.random()}:o),a.exclude_keywords=a.exclude_keywords.map(o=>typeof o=="object"&&o.isNew?{...o,id:Date.now()+Math.random()}:o),n.splice(r+1,0,a),h(n)},de=r=>{const n=[...u],a={...n[r]};a.name&&(a.name+=i.copySuffix),a.remark&&(a.remark+=i.copySuffix),delete a.editingRemark,n.splice(r+1,0,a);const o=n.map((d,c)=>({...d,priority:c+1}));x(o)},V=(r,n)=>{x(s=>{const a=[...s];return n==="up"&&r>0?[a[r],a[r-1]]=[a[r-1],a[r]]:n==="down"&&r<a.length-1&&([a[r],a[r+1]]=[a[r+1],a[r]]),a.map((o,d)=>({...o,priority:d+1}))})},ce=(r,n)=>r===1?"#ff6b35":r===2?"#f7931e":r===n?"#6c757d":"#17a2b8",P=["#ff6b35","#f7931e","#ffc107","#28a745","#17a2b8","#6610f2","#e83e8c"];return e.jsxs("div",{style:t.body,children:[A.show&&e.jsx("div",{style:{...t.notificationBanner,...A.type==="error"?t.notificationError:t.notificationSuccess},children:A.message}),e.jsxs("div",{style:t.container,children:[e.jsxs("header",{style:t.header,children:[e.jsxs("div",{style:t.titleContainer,children:[e.jsx("img",{src:"./paopaogateway.svg",alt:"PPsub Logo",style:t.logo}),e.jsx("h1",{style:t.title,children:i.title})]}),e.jsxs("div",{style:t.headerActions,children:[e.jsx("button",{onClick:se,style:{...t.loadBtn},children:i.loadCurrent}),e.jsx("button",{onClick:oe,style:{...t.exportBtn},children:i.exportJson}),e.jsx("button",{onClick:()=>{var r;return(r=W.current)==null?void 0:r.click()},style:{...t.importBtn},children:i.importJson}),e.jsx("input",{ref:W,type:"file",accept:".json",onChange:re,style:{display:"none"}})]})]}),e.jsxs("div",{style:t.content,children:[e.jsxs("section",{style:t.sectionMonitor,children:[e.jsx("div",{style:t.sectionHeader,children:e.jsx("h2",{style:t.sectionTitleMonitor,children:i.monitorTitle})}),e.jsxs("div",{style:t.item,children:[e.jsx("div",{style:t.checkboxRow,children:e.jsxs("label",{style:t.checkboxLabel,children:[e.jsx("input",{type:"checkbox",checked:G,onChange:r=>B(r.target.checked),style:t.checkbox}),e.jsx("span",{style:t.checkboxText,children:i.enableMonitor})]})}),G&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:t.itemRow,children:[e.jsxs("label",{style:t.label,children:[i.monitorUrl,":"]}),e.jsx("input",{type:"text",value:O,onChange:r=>U(r.target.value),style:t.input,placeholder:"https://www.youtube.com/generate_204"}),e.jsx("span",{style:{fontSize:"0.85em",color:"var(--color-text-secondary)",alignSelf:"center",marginLeft:"10px"},children:i.monitorUrlDesc})]}),e.jsxs("div",{style:t.itemRow,children:[e.jsxs("label",{style:t.label,children:[i.monitorStatus,":"]}),e.jsxs("select",{value:E,onChange:r=>D(r.target.value),style:{...t.input,maxWidth:"200px",cursor:"pointer"},children:[e.jsx("option",{value:"0",children:i.monitorStatusAny}),e.jsx("option",{value:"200",children:"200"}),e.jsx("option",{value:"204",children:"204"}),e.jsx("option",{value:"200-399",children:"200-399"}),e.jsx("option",{value:"custom",children:i.monitorStatusCustom})]}),E==="custom"&&e.jsx("input",{type:"text",value:X,onChange:r=>N(r.target.value),style:{...t.input,marginLeft:"10px"},placeholder:i.monitorCustomPlaceholder})]}),e.jsxs("div",{style:t.itemRow,children:[e.jsxs("label",{style:t.label,children:[i.monitorRetries,":"]}),e.jsx("input",{type:"number",value:J,onChange:r=>M(parseInt(r.target.value)||1),style:{...t.input,maxWidth:"150px"},min:"1"}),e.jsx("span",{style:{fontSize:"0.85em",color:"var(--color-text-secondary)",alignSelf:"center",marginLeft:"10px"},children:i.monitorRetriesDesc})]})]})]})]}),e.jsxs("section",{style:t.sectionSubs,children:[e.jsx("div",{style:t.sectionHeader,children:e.jsx("h2",{style:t.sectionTitleSubs,children:i.subsTitle})}),f.length===0?e.jsx("div",{style:t.emptyState,children:i.emptyState}):f.map((r,n)=>e.jsxs("div",{style:t.item,children:[e.jsxs("div",{style:t.itemHeader,children:[e.jsxs("span",{style:t.itemNumber,children:["#",n+1]}),e.jsx("span",{style:t.itemName,children:r.name||(l?"未命名订阅提供商":"Unnamed Provider")}),e.jsxs("div",{style:{marginLeft:"auto",display:"flex",gap:"8px"},children:[e.jsx("button",{onClick:()=>le(n),style:t.copyBtn,children:i.copy}),e.jsx("button",{onClick:s=>R({type:"sub",index:n,x:s.clientX,y:s.clientY}),style:t.deleteBtn,children:i.deleteSub})]})]}),e.jsxs("div",{style:t.itemRow,children:[e.jsxs("label",{style:t.label,children:[i.name,":"]}),e.jsx("input",{type:"text",value:r.name,onChange:s=>{const a=[...f];a[n].name=s.target.value,j(a)},style:t.input,placeholder:l?"例如: 某机场":"e.g. My Provider"})]}),e.jsxs("div",{style:t.itemRow,children:[e.jsxs("label",{style:t.label,children:[i.url,":"]}),e.jsx("input",{type:"text",value:r.url,onChange:s=>{const a=[...f];a[n].url=s.target.value,j(a)},style:t.input,placeholder:l?"订阅链接地址":"Subscription URL"})]}),e.jsxs("div",{style:t.checkboxRow,children:[e.jsxs("label",{style:t.checkboxLabel,children:[e.jsx("input",{type:"checkbox",checked:r.isforced,onChange:s=>{const a=[...f];a[n].isforced=s.target.checked,j(a)},style:t.checkbox}),e.jsx("span",{style:t.checkboxText,children:i.forcedDep})]}),e.jsx("span",{style:t.checkboxDesc,children:i.forcedDepDesc})]})]},n)),e.jsx("div",{style:t.sectionFooter,children:e.jsxs("button",{onClick:()=>j([...f,{name:"",url:"",isforced:!1}]),style:t.addBtnSubs,children:["+ ",i.addSub]})})]}),e.jsxs("section",{style:t.sectionNodes,children:[e.jsx("div",{style:t.sectionHeader,children:e.jsx("h2",{style:t.sectionTitleNodes,children:i.nodeGroupsTitle})}),p.length===0?e.jsx("div",{style:t.emptyState,children:i.emptyState}):p.map((r,n)=>e.jsxs("div",{style:t.item,children:[e.jsxs("div",{style:t.itemHeader,children:[e.jsxs("span",{style:t.itemNumber,children:["#",n+1]}),e.jsx("span",{style:t.itemName,children:r.name||(l?"未命名节点组":"Unnamed Node Group")}),e.jsxs("div",{style:{marginLeft:"auto",display:"flex",gap:"8px"},children:[e.jsx("button",{onClick:()=>ie(n),style:t.copyBtn,children:i.copy}),e.jsx("button",{onClick:s=>R({type:"nodeGroup",index:n,x:s.clientX,y:s.clientY}),style:t.deleteBtn,children:i.deleteNodeGroup})]})]}),e.jsxs("div",{style:t.itemRow,children:[e.jsxs("label",{style:t.label,children:[i.nodeGroupName,":"]}),e.jsx("input",{type:"text",value:r.name,onChange:s=>{const a=s.target.value,o=p[n].name,d=[...p];d[n].name=a,h(d),o!==a&&x(c=>c.map(b=>b.proxy_group===o?{...b,proxy_group:a}:b))},style:t.input,placeholder:l?"例如: AI专用":"e.g. AI Nodes"})]}),e.jsxs("div",{style:t.itemRow,children:[e.jsxs("label",{style:t.label,children:[i.nodeMode,":"]}),e.jsxs("div",{style:t.radioGroup,children:[e.jsxs("label",{style:t.radioLabel,children:[e.jsx("input",{type:"radio",checked:r.mode==="speedtest",onChange:()=>{const s=[...p];s[n].mode="speedtest",h(s)},style:t.radio}),e.jsx("span",{children:i.speedtestMode})]}),e.jsxs("label",{style:t.radioLabel,children:[e.jsx("input",{type:"radio",checked:r.mode==="manual",onChange:()=>{const s=[...p];s[n].mode="manual",h(s)},style:t.radio}),e.jsx("span",{children:i.manualMode})]})]})]}),r.mode==="speedtest"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:t.itemRow,children:[e.jsxs("label",{style:t.label,children:[i.speedtestUrl,":"]}),e.jsx("input",{type:"text",value:r.speedtest_url||"",onChange:s=>{const a=[...p];a[n].speedtest_url=s.target.value,h(a)},style:t.input,placeholder:l?"测速URL地址":"Speedtest URL"})]}),e.jsxs("div",{style:t.itemRow,children:[e.jsxs("label",{style:t.label,children:[i.speedtestInterval,":"]}),e.jsx("input",{type:"text",value:r.interval||"",onChange:s=>{const a=[...p];a[n].interval=s.target.value,h(a)},style:t.input,placeholder:i.intervalPlaceholder})]})]}),e.jsxs("div",{style:t.itemRow,children:[e.jsxs("label",{style:t.label,children:[i.keywords,":"]}),e.jsxs("div",{style:t.keywordContainer,children:[r.keywords.map((s,a)=>typeof s=="object"&&s.isNew?e.jsxs("div",{style:{position:"relative",display:"inline-block"},children:[e.jsx("input",{type:"text",autoFocus:!0,value:s.value,onFocus:()=>T(s.id),onChange:o=>{const d=[...p];d[n].keywords[a].value=o.target.value,h(d)},onBlur:()=>{T(null);const o=[...p],d=o[n].keywords[a].value.trim();d?(o[n].keywords[a]=d,I(c=>new Set([...c,d]))):o[n].keywords.splice(a,1),h(o)},onKeyPress:o=>{o.key==="Enter"&&o.target.blur()},style:t.keywordInput,placeholder:l?"输入关键字":"Enter keyword"}),H===s.id&&e.jsxs("div",{style:t.keywordHintTooltip,children:["                                                                   ",l?"以 exp# 开头的关键字可匹配正则，比如 exp#hk[1-3]":"Start with exp# for Regex matching, e.g. exp#hk[1-3]"]})]},`new-${s.id}`):e.jsxs("span",{style:{...t.keywordTag,background:P[a%P.length]},children:[s,e.jsx("span",{onClick:()=>{const o=[...p];o[n].keywords.splice(a,1),h(o)},style:t.removeTag,children:"×"})]},a)),!r.keywords.some(s=>typeof s=="object"&&s.isNew)&&e.jsxs("button",{onClick:()=>{const s=[...p];s[n].keywords.push({id:Date.now(),value:"",isNew:!0}),h(s)},style:t.addTagBtn,children:["+ ",i.addKeyword]})]})]}),e.jsxs("div",{style:t.itemRow,children:[e.jsxs("label",{style:t.label,children:[i.excludeKeywords,":"]}),e.jsxs("div",{style:t.keywordContainer,children:[r.exclude_keywords.map((s,a)=>typeof s=="object"&&s.isNew?e.jsxs("div",{style:{position:"relative",display:"inline-block"},children:[e.jsx("input",{type:"text",autoFocus:!0,value:s.value,onFocus:()=>T(s.id),onChange:o=>{const d=[...p];d[n].exclude_keywords[a].value=o.target.value,h(d)},onBlur:()=>{T(null);const o=[...p],d=o[n].exclude_keywords[a].value.trim();d?(o[n].exclude_keywords[a]=d,I(c=>new Set([...c,d]))):o[n].exclude_keywords.splice(a,1),h(o)},onKeyPress:o=>{o.key==="Enter"&&o.target.blur()},style:t.keywordInput,placeholder:l?"输入排除关键字":"Enter exclude keyword"}),H===s.id&&e.jsx("div",{style:t.keywordHintTooltip,children:l?"以 exp# 开头的关键字可匹配正则，比如 exp#hk[1-3]":"Start with exp# for Regex matching, e.g. exp#hk[1-3]"})]},`new-${s.id}`):e.jsxs("span",{style:{...t.keywordTag,background:P[(a+3)%P.length]},children:[s,e.jsx("span",{onClick:()=>{const o=[...p];o[n].exclude_keywords.splice(a,1),h(o)},style:t.removeTag,children:"×"})]},a)),!r.exclude_keywords.some(s=>typeof s=="object"&&s.isNew)&&e.jsxs("button",{onClick:()=>{const s=[...p];s[n].exclude_keywords.push({id:Date.now(),value:"",isNew:!0}),h(s)},style:t.addTagBtn,children:["+ ",i.addExcludeKeyword]})]})]}),e.jsxs("div",{style:t.itemRow,children:[e.jsxs("label",{style:t.label,children:[i.subsProvider,":"]}),e.jsxs("div",{style:t.keywordContainer,children:[r.subs.map((s,a)=>e.jsxs("span",{style:{...t.keywordTag,background:s==="all"?"#6c757d":"#17a2b8"},children:[s==="all"?`⭐ ${i.all}`:s,e.jsx("span",{onClick:()=>{const o=[...p];o[n].subs=o[n].subs.filter((d,c)=>c!==a),o[n].subs.length===0&&(o[n].subs=["all"]),h(o)},style:t.removeTag,children:"×"})]},a)),e.jsxs("button",{onClick:s=>{ee(n),Q({x:s.clientX,y:s.clientY+5}),K(""),L(!0)},style:t.addTagBtn,children:["+ ",i.selectSub]})]})]})]},n)),e.jsx("div",{style:t.sectionFooter,children:e.jsxs("button",{onClick:()=>h([...p,{name:"",keywords:[],exclude_keywords:[],subs:["all"],mode:"manual",speedtest_url:"",interval:""}]),style:t.addBtnNodes,children:["+ ",i.addNodeGroup]})})]}),e.jsxs("section",{style:t.sectionRules,children:[e.jsx("div",{style:t.sectionHeader,children:e.jsx("h2",{style:t.sectionTitleRules,children:i.ruleSetsTitle})}),u.length===0?e.jsx("div",{style:t.emptyState,children:i.emptyState}):u.map((r,n)=>{const s=u.length;let a=`${i.priority} ${r.priority}`;return r.priority===1?a=i.topPriority:r.priority===2?a=i.highPriority:r.priority===s&&(a=i.lastPriority),e.jsxs("div",{style:t.item,children:[e.jsxs("div",{style:t.itemHeader,children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[e.jsxs("span",{style:t.itemNumber,children:["#",n+1]}),e.jsx("span",{style:{...t.priorityBadge,background:ce(r.priority,s)},children:a}),r.editingRemark?e.jsx("input",{type:"text",autoFocus:!0,value:r.editingRemark.value,onChange:o=>{const d=[...u];d[n].editingRemark.value=o.target.value,x(d)},onBlur:()=>{const o=[...u];o[n].remark=o[n].editingRemark.value,delete o[n].editingRemark,x(o)},onKeyPress:o=>{o.key==="Enter"&&o.target.blur()},style:t.remarkInput,placeholder:i.addRemark}):e.jsx("span",{onClick:()=>{const o=[...u];o[n].editingRemark={id:Date.now(),value:r.remark},x(o)},style:t.remarkText,children:r.remark||i.addRemark})]}),e.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[e.jsxs("button",{onClick:()=>V(n,"up"),disabled:n===0,style:n===0?{...t.priorityBtn,opacity:.3,cursor:"not-allowed"}:t.priorityBtn,children:["↑ ",i.moveUp]}),e.jsxs("button",{onClick:()=>V(n,"down"),disabled:n===u.length-1,style:n===u.length-1?{...t.priorityBtn,opacity:.3,cursor:"not-allowed"}:t.priorityBtn,children:["↓ ",i.moveDown]}),e.jsx("button",{onClick:()=>de(n),style:t.copyBtn,children:i.copy}),e.jsx("button",{onClick:o=>R({type:"ruleSet",index:n,x:o.clientX,y:o.clientY}),style:t.deleteBtn,children:i.deleteRuleSet})]})]}),e.jsxs("div",{style:t.itemRow,children:[e.jsxs("label",{style:t.label,children:[i.ruleType,":"]}),e.jsxs("div",{style:t.radioGroup,children:[e.jsxs("label",{style:t.radioLabel,children:[e.jsx("input",{type:"radio",checked:r.type==="manual",onChange:()=>{const o=[...u];o[n].type="manual",x(o)},style:t.radio}),e.jsx("span",{children:i.manualRule})]}),e.jsxs("label",{style:t.radioLabel,children:[e.jsx("input",{type:"radio",checked:r.type==="url",onChange:()=>{const o=[...u];o[n].type="url",x(o)},style:t.radio}),e.jsx("span",{children:i.urlDownload})]}),e.jsxs("label",{style:t.radioLabel,children:[e.jsx("input",{type:"radio",checked:r.type==="rule-set",onChange:()=>{const o=[...u];o[n].type="rule-set",o[n].behavior||(o[n].behavior="classical"),o[n].interval||(o[n].interval=86400),o[n].name||(o[n].name=""),o[n].format||(o[n].format="yaml"),x(o)},style:t.radio}),e.jsx("span",{children:i.ruleSetType})]})]})]}),r.type==="rule-set"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:t.itemRow,children:[e.jsxs("label",{style:t.label,children:[i.name,":"]}),e.jsx("input",{type:"text",value:r.name||"",onChange:o=>{const d=[...u];d[n].name=o.target.value,x(d)},onFocus:o=>{o.target.style.boxShadow="0 0 0 3px rgba(0, 123, 255, 0.25)",o.target.style.borderColor="#007bff"},onBlur:o=>{o.target.style.boxShadow="none",o.target.style.borderColor="#dee2e6"},style:t.input,placeholder:l?"例如: openai":"e.g. openai"})]}),e.jsxs("div",{style:t.itemRow,children:[e.jsxs("label",{style:t.label,children:[i.ruleUrl,":"]}),e.jsx("input",{type:"text",value:r.url,onChange:o=>{const d=o.target.value,c=[...u];c[n].url=d,d.toLowerCase().endsWith(".mrs")?c[n].format="mrs":d.toLowerCase().endsWith(".yaml")||d.toLowerCase().endsWith(".yml")?c[n].format="yaml":d.toLowerCase().endsWith(".txt")&&(c[n].format="text"),x(c)},style:t.input,placeholder:l?"RULE-SET文件下载地址":"Rule Set URL"})]}),e.jsxs("div",{style:t.itemRow,children:[e.jsxs("label",{style:t.label,children:[i.ruleFormat,":"]}),e.jsxs("select",{value:r.format||"yaml",onChange:o=>{const d=[...u];d[n].format=o.target.value,x(d)},style:{...t.input,cursor:"pointer"},children:[e.jsx("option",{value:"yaml",children:"yaml"}),e.jsx("option",{value:"text",children:"text"}),e.jsx("option",{value:"mrs",children:"mrs"})]})]}),e.jsxs("div",{style:t.itemRow,children:[e.jsxs("label",{style:t.label,children:[i.behavior,":"]}),e.jsxs("select",{value:r.behavior||"classical",onChange:o=>{const d=[...u];d[n].behavior=o.target.value,x(d)},style:{...t.input,cursor:"pointer"},children:[e.jsx("option",{value:"classical",children:"classical"}),e.jsx("option",{value:"domain",children:"domain"}),e.jsx("option",{value:"ipcidr",children:"ipcidr"})]})]}),e.jsxs("div",{style:t.itemRow,children:[e.jsxs("label",{style:t.label,children:[i.ruleSetInterval,":"]}),e.jsx("input",{type:"number",value:r.interval||86400,onChange:o=>{const d=[...u];d[n].interval=parseInt(o.target.value)||86400,x(d)},style:{...t.input}})]}),e.jsx("div",{style:t.checkboxRow,children:e.jsxs("label",{style:t.checkboxLabel,children:[e.jsx("input",{type:"checkbox",checked:r.use_proxy||!1,onChange:o=>{const d=[...u];d[n].use_proxy=o.target.checked,o.target.checked||delete d[n].proxy_group,x(d)},style:t.checkbox}),e.jsx("span",{style:t.checkboxText,children:i.downloadViaProxy})]})}),r.use_proxy&&e.jsxs("div",{style:t.itemRow,children:[e.jsxs("label",{style:t.label,children:[i.selectProxy,":"]}),e.jsxs("div",{style:{position:"relative",flex:1},children:[e.jsx("input",{type:"text",value:r.proxy_group||"",onChange:o=>{const d=[...u];d[n].proxy_group=o.target.value,x(d)},onFocus:()=>_(n),onBlur:()=>{setTimeout(()=>_(null),200)},style:t.input,placeholder:i.selectProxy}),te===n&&e.jsxs("div",{style:t.dropdownList,children:[p.filter(o=>!r.proxy_group||o.name.toLowerCase().includes((r.proxy_group||"").toLowerCase())).map((o,d)=>e.jsx("div",{onMouseDown:c=>{c.preventDefault();const b=[...u];b[n].proxy_group=o.name,x(b),_(null)},onMouseEnter:c=>{c.currentTarget.style.background="var(--color-background2)"},onMouseLeave:c=>{c.currentTarget.style.background="transparent"},style:t.dropdownItem,children:o.name},d)),p.filter(o=>!r.proxy_group||o.name.toLowerCase().includes((r.proxy_group||"").toLowerCase())).length===0&&e.jsx("div",{style:{...t.dropdownItem,cursor:"default",opacity:.6},children:l?"回车可使用自定义值":"Press Enter to use custom value"})]})]})]}),e.jsx("div",{style:t.ruleHint,children:l?e.jsxs(e.Fragment,{children:["RULE-SET 说明: RULE-SET是规则对象集合，调用方式: 在其他规则中使用 RULE-SET,RULESET名称,节点组。",e.jsx("br",{}),"例如: 备注名为 openai，调用规则写 RULE-SET,openai,AI专用",e.jsx("br",{}),"此订阅由Clash/Mihomo核心直接管理，如下载失败将导致核心无法启动。"]}):e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"RULE-SET Note:"})," RULE-SET is a collection of rule objects. Usage: In other rules, use RULE-SET,RuleSetName,NodeGroup.",e.jsx("br",{}),"Example: If name is openai, use RULE-SET,openai,AI-Nodes",e.jsx("br",{}),"This subscription is managed directly by Clash/Mihomo core. Boot failure will occur if download fails."]})})]}):r.type==="url"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:t.itemRow,children:[e.jsxs("label",{style:t.label,children:[i.ruleUrl,":"]}),e.jsx("input",{type:"text",value:r.url,onChange:o=>{const d=[...u];d[n].url=o.target.value,x(d)},onFocus:o=>{o.target.style.boxShadow="0 0 0 3px rgba(0, 123, 255, 0.25)",o.target.style.borderColor="#007bff"},onBlur:o=>{o.target.style.boxShadow="none",o.target.style.borderColor="#dee2e6"},style:t.input,placeholder:l?"规则文件下载地址":"Rule file download URL"})]}),e.jsxs("div",{style:t.checkboxRow,children:[e.jsxs("label",{style:t.checkboxLabel,children:[e.jsx("input",{type:"checkbox",checked:r.isforced||!1,onChange:o=>{const d=[...u];d[n].isforced=o.target.checked,x(d)},style:t.checkbox}),e.jsx("span",{style:t.checkboxText,children:i.forcedDep})]}),e.jsx("span",{style:t.checkboxDesc,children:i.forcedDepDesc})]})]}):e.jsxs("div",{style:{...t.itemRow,flexDirection:"column",alignItems:"stretch"},children:[e.jsxs("label",{style:t.label,children:[i.ruleContent,":"]}),e.jsx("textarea",{value:r.content,onChange:o=>{const d=[...u];d[n].content=o.target.value,x(d)},onFocus:o=>{o.target.style.boxShadow="0 0 0 3px rgba(0, 123, 255, 0.25)",o.target.style.borderColor="#007bff"},onBlur:o=>{o.target.style.boxShadow="none",o.target.style.borderColor="#dee2e6"},style:t.textarea,placeholder:l?`在此输入规则内容，例如:
DOMAIN,dmm.com,JP
DOMAIN,ad.com,REJECT
GEOSITE,openai,ai专用`:`Enter rule content here, e.g.:
DOMAIN,dmm.com,JP
DOMAIN,ad.com,REJECT
GEOSITE,openai,ai-nodes`}),"  ",e.jsx("div",{style:t.ruleHint,children:l?e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"支持的规则类型:"})," DOMAIN, GEOSITE, IP-CIDR, IP-ASN, GEOIP, MATCH等",e.jsx("br",{}),e.jsx("strong",{children:"格式:"})," 规则类型,匹配内容,节点组名称（或者内置策略：REJECT、DIRECT） (例如: GEOSITE,openai,ai专用)",e.jsx("br",{}),e.jsx("a",{href:"https://wiki.metacubex.one/config/rules/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"规则语法参考"}),e.jsx("br",{}),e.jsx("a",{href:"https://github.com/v2fly/domain-list-community/tree/master/data",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"geosite参考"}),e.jsx("br",{}),e.jsx("strong",{children:"提示:"})," 请尽量使用域名规则(GEOSITE,DOMAIN)，使用IP相关规则会触发额外的DNS解析动作。",e.jsx("br",{}),e.jsx("strong",{children:"重要:"})," 请不要忘记最后使用match规则兜底，比如match,all（假设你有一个节点组叫all）"]}):e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"Supported rule types:"})," DOMAIN, GEOSITE, IP-CIDR, IP-ASN, GEOIP, MATCH, etc.",e.jsx("br",{}),e.jsx("strong",{children:"Format:"})," RuleType,MatchContent,NodeGroupName (or built-in policy: REJECT, DIRECT) (e.g. GEOSITE,openai,ai-nodes)",e.jsx("br",{}),e.jsx("a",{href:"https://wiki.metacubex.one/config/rules/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"Rule Syntax Reference"}),e.jsx("br",{}),e.jsx("a",{href:"https://github.com/v2fly/domain-list-community/tree/master/data",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"Geosite Reference"}),e.jsx("br",{}),e.jsx("strong",{children:"Tip:"})," Prefer domain-based rules (GEOSITE,DOMAIN) as IP-based rules trigger additional DNS resolution.",e.jsx("br",{}),e.jsx("strong",{children:"Important:"}),` Don't forget to add a match rule as fallback, e.g. match,all (assuming you have a node group named "all")`]})})]})]},n)}),e.jsx("div",{style:t.sectionFooter,children:e.jsxs("button",{onClick:()=>x([...u,{priority:u.length+1,remark:"",name:"",type:"manual",url:"",content:"",isforced:!1,behavior:"classical",interval:86400,format:"yaml"}]),style:t.addBtnRules,children:["+ ",i.addRuleSet]})})]})]}),e.jsxs("footer",{style:t.footer,children:["© PaoPaoGateWay | ",e.jsx("a",{href:"https://github.com/kkkgo/PaoPaoGateWay",target:"_blank",rel:"noopener noreferrer",style:t.footerLink,children:"GitHub"})]})]}),w&&e.jsxs("div",{style:{...t.deleteConfirmPopup,left:w.x,top:w.y},children:[e.jsx("button",{onClick:()=>ae(w.type,w.index),style:t.confirmDeleteBtn,children:i.confirm}),e.jsx("button",{onClick:()=>R(null),style:t.cancelDeleteBtn,children:i.cancel})]}),z&&C!==null&&e.jsxs("div",{style:{...t.subsPopup,left:F.x,top:F.y},onClick:r=>r.stopPropagation(),children:[e.jsx("input",{type:"text",autoFocus:!0,value:k,onChange:r=>K(r.target.value),placeholder:l?"搜索订阅...":"Search...",style:t.subsSearchInput}),e.jsx("div",{style:{margin:"5px 0",borderBottom:"1px solid var(--color-separator)"}}),("all".includes(k.toLowerCase())||k==="")&&e.jsxs("div",{onClick:()=>{const r=[...p];r[C].subs=["all"],h(r),L(!1)},style:t.subsItem,children:[p[C].subs.includes("all")?"✓ ":"","⭐ ",i.all]}),f.filter(r=>r.name&&r.name.toLowerCase().includes(k.toLowerCase())).map((r,n)=>{const s=p[C].subs.includes(r.name);return e.jsxs("div",{onClick:()=>{const a=[...p],o=a[C];o.subs=o.subs.filter(c=>c!=="all");const d=o.subs.indexOf(r.name);d>-1?o.subs.splice(d,1):o.subs.push(r.name),o.subs.length===0&&(o.subs=["all"]),h(a)},onMouseEnter:a=>{a.currentTarget.style.background="var(--color-background2)"},onMouseLeave:a=>{a.currentTarget.style.background="transparent"},style:t.subsItem,children:[s?"✓ ":"",r.name]},n)}),f.filter(r=>r.name&&r.name.toLowerCase().includes(k.toLowerCase())).length===0&&k!==""&&e.jsx("div",{style:{...t.subsItem,opacity:.5,cursor:"default"},children:l?"无匹配项":"No matches"}),f.filter(r=>r.name).length===0&&e.jsx("div",{style:{...t.subsItem,opacity:.5,cursor:"default"},children:l?"请先添加订阅提供商":"Add providers first"})]}),(z||w)&&e.jsx("div",{style:t.overlay,onClick:()=>{L(!1),R(null)}})]})}const t={body:{fontFamily:"var(--font-normal)",background:"var(--color-background)",minHeight:"100vh",padding:"20px",color:"var(--color-text)"},container:{maxWidth:"1200px",margin:"0 auto",background:"var(--color-bg-card)",borderRadius:"16px",boxShadow:"0 10px 40px rgba(0, 0, 0, 0.2)",overflow:"hidden",border:"1px solid var(--color-separator)"},header:{background:"var(--color-bg-sidebar)",borderBottom:"1px solid var(--color-separator)",padding:"24px 40px",display:"flex",justifyContent:"space-between",alignItems:"center"},titleContainer:{display:"flex",alignItems:"center",gap:"15px"},logo:{width:"48px",height:"48px",objectFit:"contain"},title:{margin:0,fontSize:"1.8em",fontWeight:700,color:"var(--color-text)"},headerActions:{display:"flex",gap:"15px"},content:{padding:"30px 40px"},exportBtn:{padding:"10px 24px",border:"none",borderRadius:"8px",background:"#28a745",color:"#fff",fontSize:"0.95em",fontWeight:600,cursor:"pointer",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},importBtn:{padding:"10px 24px",border:"none",borderRadius:"8px",background:"var(--btn-bg)",color:"#fff",fontSize:"0.95em",fontWeight:600,cursor:"pointer",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},loadBtn:{padding:"10px 24px",border:"none",borderRadius:"8px",background:"#17a2b8",color:"#fff",fontSize:"0.95em",fontWeight:600,cursor:"pointer",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},sectionMonitor:{marginBottom:"30px",padding:"25px",background:"var(--bg-near-transparent)",borderRadius:"12px",border:"1px solid #4db6ac",borderLeft:"5px solid #009688"},sectionTitleMonitor:{margin:0,fontSize:"1.4em",fontWeight:700,color:"#26a69a"},sectionSubs:{marginBottom:"30px",padding:"25px",background:"var(--bg-near-transparent)",borderRadius:"12px",border:"1px solid #90caf9",borderLeft:"5px solid #1565c0"},sectionNodes:{marginBottom:"30px",padding:"25px",background:"var(--bg-near-transparent)",borderRadius:"12px",border:"1px solid #ce93d8",borderLeft:"5px solid #7b1fa2"},sectionRules:{marginBottom:"30px",padding:"25px",background:"var(--bg-near-transparent)",borderRadius:"12px",border:"1px solid #ffb74d",borderLeft:"5px solid #e65100"},sectionHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},sectionTitleSubs:{margin:0,fontSize:"1.4em",fontWeight:700,color:"#42a5f5"},sectionTitleNodes:{margin:0,fontSize:"1.4em",fontWeight:700,color:"#ab47bc"},sectionTitleRules:{margin:0,fontSize:"1.4em",fontWeight:700,color:"#ff9800"},sectionFooter:{marginTop:"15px",display:"flex",justifyContent:"center"},addBtnSubs:{width:"100%",padding:"12px",border:"1px dashed #90caf9",borderRadius:"8px",background:"var(--color-background2)",color:"#42a5f5",fontSize:"1em",fontWeight:600,cursor:"pointer",transition:"all 0.2s"},addBtnNodes:{width:"100%",padding:"12px",border:"1px dashed #ce93d8",borderRadius:"8px",background:"var(--color-background2)",color:"#ab47bc",fontSize:"1em",fontWeight:600,cursor:"pointer",transition:"all 0.2s"},addBtnRules:{width:"100%",padding:"12px",border:"1px dashed #ffb74d",borderRadius:"8px",background:"var(--color-background2)",color:"#ff9800",fontSize:"1em",fontWeight:600,cursor:"pointer",transition:"all 0.2s"},item:{background:"var(--color-bg-card)",borderRadius:"10px",padding:"20px",marginBottom:"15px",border:"1px solid var(--color-separator)",transition:"all 0.2s",boxShadow:"0 2px 5px rgba(0,0,0,0.05)"},itemHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px",paddingBottom:"12px",borderBottom:"1px solid var(--color-separator)"},itemNumber:{display:"inline-block",width:"28px",height:"28px",lineHeight:"28px",textAlign:"center",background:"var(--color-row-odd)",color:"var(--color-text)",borderRadius:"50%",fontWeight:700,fontSize:"0.85em"},itemName:{marginLeft:"12px",fontSize:"1.05em",color:"var(--color-text)",fontWeight:600},deleteBtn:{padding:"6px 14px",borderRadius:"6px",background:"transparent",color:"#ff4d4f",border:"1px solid #ff4d4f",fontSize:"0.85em",fontWeight:600,cursor:"pointer",transition:"all 0.2s"},copyBtn:{padding:"6px 14px",borderRadius:"6px",background:"transparent",color:"#17a2b8",border:"1px solid #17a2b8",fontSize:"0.85em",fontWeight:600,cursor:"pointer",transition:"all 0.2s"},itemRow:{display:"flex",alignItems:"flex-start",gap:"15px",marginBottom:"15px",flexWrap:"wrap"},label:{minWidth:"140px",fontWeight:600,color:"var(--color-text-secondary)",paddingTop:"10px",fontSize:"0.95em"},input:{flex:1,padding:"10px 14px",border:"1px solid var(--color-input-border)",borderRadius:"8px",fontSize:"0.95em",background:"var(--color-input-bg)",color:"var(--color-text)",transition:"all 0.2s",outline:"none"},checkboxRow:{display:"flex",flexDirection:"column",gap:"8px",marginBottom:"15px"},checkboxLabel:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",color:"var(--color-text)"},checkbox:{width:"18px",height:"18px",cursor:"pointer",background:"var(--color-input-bg)",accentColor:"var(--btn-bg)"},checkboxText:{fontWeight:600,color:"var(--color-text)",fontSize:"0.95em"},checkboxDesc:{fontSize:"0.85em",color:"var(--color-text-secondary)",marginLeft:"26px"},radioGroup:{display:"flex",gap:"20px",flex:1,paddingTop:"10px",flexWrap:"wrap"},radioLabel:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",fontSize:"0.95em",background:"var(--color-input-bg)",color:"var(--color-text)",padding:"8px 12px",borderRadius:"6px",border:"1px solid var(--color-input-border)",transition:"all 0.2s"},radio:{width:"16px",height:"16px",cursor:"pointer",accentColor:"var(--btn-bg)"},keywordContainer:{flex:1,display:"flex",flexWrap:"wrap",gap:"8px",alignItems:"center"},keywordTag:{display:"inline-flex",alignItems:"center",gap:"6px",padding:"4px 10px",borderRadius:"20px",color:"#fff",fontSize:"0.9em",fontWeight:600,boxShadow:"0 1px 3px rgba(0,0,0,0.2)"},removeTag:{cursor:"pointer",fontSize:"1.2em",fontWeight:700,opacity:.8},addTagBtn:{padding:"6px 14px",border:"1px dashed var(--color-text-secondary)",borderRadius:"20px",background:"transparent",color:"var(--color-text-secondary)",fontSize:"0.9em",fontWeight:600,cursor:"pointer",transition:"all 0.2s"},keywordInput:{padding:"6px 12px",border:"1px solid var(--btn-bg)",borderRadius:"20px",fontSize:"0.9em",minWidth:"120px",background:"var(--color-input-bg)",color:"var(--color-text)",outline:"none"},priorityBadge:{padding:"4px 10px",borderRadius:"4px",color:"white",fontSize:"0.85em",fontWeight:700},priorityBtn:{padding:"6px 12px",border:"1px solid var(--color-separator)",borderRadius:"6px",background:"var(--color-background2)",color:"var(--color-text)",fontSize:"0.85em",fontWeight:600,cursor:"pointer"},remarkText:{color:"var(--color-text-secondary)",fontStyle:"italic",cursor:"pointer",fontSize:"0.95em",borderBottom:"1px dashed var(--color-separator)"},remarkInput:{padding:"6px 12px",border:"1px solid var(--btn-bg)",borderRadius:"6px",fontSize:"0.95em",minWidth:"200px",background:"var(--color-input-bg)",color:"var(--color-text)",outline:"none"},textarea:{width:"100%",padding:"12px 16px",border:"1px solid var(--color-input-border)",borderRadius:"8px",fontFamily:"var(--font-normal)",fontSize:"0.9em",minHeight:"200px",resize:"vertical",lineHeight:"1.6",background:"var(--color-input-bg)",color:"var(--color-text)",outline:"none",boxSizing:"border-box"},emptyState:{textAlign:"center",color:"var(--color-text-secondary)",padding:"40px 20px",fontSize:"1em"},footer:{background:"var(--color-bg-sidebar)",borderTop:"1px solid var(--color-separator)",padding:"20px",textAlign:"center",color:"var(--color-text-secondary)",fontSize:"0.9em"},footerLink:{color:"var(--btn-bg)",textDecoration:"none",fontWeight:600},deleteConfirmPopup:{position:"fixed",background:"var(--color-bg-card)",borderRadius:"10px",padding:"16px",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.4)",zIndex:10002,display:"flex",gap:"10px",border:"1px solid var(--color-separator)"},confirmDeleteBtn:{padding:"8px 18px",border:"none",borderRadius:"6px",background:"#dc3545",color:"white",fontSize:"0.9em",fontWeight:600,cursor:"pointer"},cancelDeleteBtn:{padding:"8px 18px",border:"1px solid var(--color-separator)",borderRadius:"6px",background:"var(--color-background)",color:"var(--color-text)",fontSize:"0.9em",fontWeight:600,cursor:"pointer"},subsPopup:{position:"fixed",background:"var(--color-bg-card)",color:"var(--color-text)",borderRadius:"10px",padding:"8px",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.4)",zIndex:10002,maxHeight:"300px",overflowY:"auto",minWidth:"200px",border:"1px solid var(--color-separator)"},subsSearchInput:{width:"100%",padding:"8px",marginBottom:"4px",border:"1px solid var(--btn-bg)",borderRadius:"6px",fontSize:"0.9em",background:"var(--color-input-bg)",color:"var(--color-text)",outline:"none",boxSizing:"border-box"},ruleHint:{marginTop:"10px",padding:"12px 16px",background:"var(--bg-near-transparent)",border:"1px solid #ffc107",borderRadius:"8px",fontSize:"0.85em",color:"var(--color-text)",lineHeight:"1.6"},subsItem:{padding:"10px 14px",cursor:"pointer",borderRadius:"6px",transition:"background 0.2s",fontSize:"0.95em",background:"var(--color-bg-card)",color:"var(--color-text)"},overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:10001,background:"rgba(0,0,0,0.4)",backdropFilter:"blur(2px)"},keywordHintTooltip:{position:"absolute",top:"110%",left:"0",background:"var(--color-bg-card)",border:"1px solid var(--btn-bg)",padding:"6px 10px",borderRadius:"6px",fontSize:"0.8em",color:"var(--color-text)",boxShadow:"0 4px 12px rgba(0,0,0,0.2)",zIndex:100,whiteSpace:"nowrap",pointerEvents:"none"},notificationBanner:{position:"fixed",top:"20px",left:"50%",transform:"translateX(-50%)",padding:"12px 24px",borderRadius:"8px",zIndex:2e4,fontWeight:600,boxShadow:"0 4px 12px rgba(0,0,0,0.2)",textAlign:"center",maxWidth:"80%",animation:"fadeIn 0.3s ease-in-out"},notificationSuccess:{background:"#d4edda",color:"#155724",border:"1px solid #c3e6cb"},notificationError:{background:"#f8d7da",color:"#721c24",border:"1px solid #f5c6cb"},dropdownList:{position:"absolute",top:"100%",left:0,right:0,background:"var(--color-bg-card)",border:"1px solid var(--btn-bg)",borderRadius:"0 0 8px 8px",maxHeight:"200px",overflowY:"auto",zIndex:1e3,boxShadow:"0 4px 12px rgba(0,0,0,0.15)"},dropdownItem:{padding:"10px 14px",cursor:"pointer",borderBottom:"1px solid var(--color-separator)",fontSize:"0.95em",color:"var(--color-text)",transition:"background 0.2s"}};export{he as default};
