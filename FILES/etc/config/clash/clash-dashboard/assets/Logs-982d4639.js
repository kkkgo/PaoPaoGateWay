import{r as C,R as k,P as L,j as c,b as ne,z as pe,A as fe,t as me,D as ge,u as ve,C as Se,S as _e,E as ye,F as xe,g as Ie,G as be,e as je,c as E}from"./index-5321f4b6.js";import{r as we,s as Oe,f as Te}from"./logs-039c0652.js";import{d as Ce}from"./debounce-c1ba2006.js";import{u as ze,P as Re,a as Pe}from"./useRemainingViewPortHeight-3d557a0b.js";import{F as Ne,p as We}from"./Fab-0f341059.js";function $(){return $=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)({}).hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},$.apply(null,arguments)}function A(){return A=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},A.apply(this,arguments)}function Le(t,e){if(t==null)return{};var n=Ee(t,e),o,i;if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(t);for(i=0;i<h.length;i++)o=h[i],!(e.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(t,o)&&(n[o]=t[o])}return n}function Ee(t,e){if(t==null)return{};var n={},o=Object.keys(t),i,h;for(h=0;h<o.length;h++)i=o[h],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var U=C.forwardRef(function(t,e){var n=t.color,o=n===void 0?"currentColor":n,i=t.size,h=i===void 0?24:i,x=Le(t,["color","size"]);return k.createElement("svg",A({ref:e,xmlns:"http://www.w3.org/2000/svg",width:h,height:h,viewBox:"0 0 24 24",fill:"none",stroke:o,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},x),k.createElement("circle",{cx:"11",cy:"11",r:"8"}),k.createElement("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}))});U.propTypes={color:L.string,size:L.oneOfType([L.string,L.number])};U.displayName="Search";const Me=U;function G(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function H(t,e){return H=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},H(t,e)}function ke(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,H(t,e)}var Y=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function Fe(t,e){return!!(t===e||Y(t)&&Y(e))}function De(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!Fe(t[n],e[n]))return!1;return!0}function F(t,e){e===void 0&&(e=De);var n,o=[],i,h=!1;function x(){for(var _=[],v=0;v<arguments.length;v++)_[v]=arguments[v];return h&&n===this&&e(_,o)||(i=t.apply(this,_),h=!0,n=this,o=_),i}return x}function Z(t,e){if(t==null)return{};var n={};for(var o in t)if({}.hasOwnProperty.call(t,o)){if(e.indexOf(o)!==-1)continue;n[o]=t[o]}return n}var $e=typeof performance=="object"&&typeof performance.now=="function",J=$e?function(){return performance.now()}:function(){return Date.now()};function Q(t){cancelAnimationFrame(t.id)}function Ae(t,e){var n=J();function o(){J()-n>=e?t.call(null):i.id=requestAnimationFrame(o)}var i={id:requestAnimationFrame(o)};return i}var D=-1;function X(t){if(t===void 0&&(t=!1),D===-1||t){var e=document.createElement("div"),n=e.style;n.width="50px",n.height="50px",n.overflow="scroll",document.body.appendChild(e),D=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return D}var z=null;function ee(t){if(t===void 0&&(t=!1),z===null||t){var e=document.createElement("div"),n=e.style;n.width="50px",n.height="50px",n.overflow="scroll",n.direction="rtl";var o=document.createElement("div"),i=o.style;return i.width="100px",i.height="100px",e.appendChild(o),document.body.appendChild(e),e.scrollLeft>0?z="positive-descending":(e.scrollLeft=1,e.scrollLeft===0?z="negative":z="positive-ascending"),document.body.removeChild(e),z}return z}var He=150,Ue=function(e,n){return e};function qe(t){var e,n=t.getItemOffset,o=t.getEstimatedTotalSize,i=t.getItemSize,h=t.getOffsetForIndexAndAlignment,x=t.getStartIndexForOffset,_=t.getStopIndexForStartIndex,v=t.initInstanceProps,b=t.shouldResetStyleCacheOnItemSizeChange,y=t.validateProps;return e=function(O){ke(T,O);function T(S){var r;return r=O.call(this,S)||this,r._instanceProps=v(r.props,G(r)),r._outerRef=void 0,r._resetIsScrollingTimeoutId=null,r.state={instance:G(r),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof r.props.initialScrollOffset=="number"?r.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},r._callOnItemsRendered=void 0,r._callOnItemsRendered=F(function(s,a,l,d){return r.props.onItemsRendered({overscanStartIndex:s,overscanStopIndex:a,visibleStartIndex:l,visibleStopIndex:d})}),r._callOnScroll=void 0,r._callOnScroll=F(function(s,a,l){return r.props.onScroll({scrollDirection:s,scrollOffset:a,scrollUpdateWasRequested:l})}),r._getItemStyle=void 0,r._getItemStyle=function(s){var a=r.props,l=a.direction,d=a.itemSize,m=a.layout,u=r._getItemStyleCache(b&&d,b&&m,b&&l),f;if(u.hasOwnProperty(s))f=u[s];else{var g=n(r.props,s,r._instanceProps),j=i(r.props,s,r._instanceProps),w=l==="horizontal"||m==="horizontal",N=l==="rtl",W=w?g:0;u[s]=f={position:"absolute",left:N?void 0:W,right:N?W:void 0,top:w?0:g,height:w?"100%":j,width:w?j:"100%"}}return f},r._getItemStyleCache=void 0,r._getItemStyleCache=F(function(s,a,l){return{}}),r._onScrollHorizontal=function(s){var a=s.currentTarget,l=a.clientWidth,d=a.scrollLeft,m=a.scrollWidth;r.setState(function(u){if(u.scrollOffset===d)return null;var f=r.props.direction,g=d;if(f==="rtl")switch(ee()){case"negative":g=-d;break;case"positive-descending":g=m-l-d;break}return g=Math.max(0,Math.min(g,m-l)),{isScrolling:!0,scrollDirection:u.scrollOffset<g?"forward":"backward",scrollOffset:g,scrollUpdateWasRequested:!1}},r._resetIsScrollingDebounced)},r._onScrollVertical=function(s){var a=s.currentTarget,l=a.clientHeight,d=a.scrollHeight,m=a.scrollTop;r.setState(function(u){if(u.scrollOffset===m)return null;var f=Math.max(0,Math.min(m,d-l));return{isScrolling:!0,scrollDirection:u.scrollOffset<f?"forward":"backward",scrollOffset:f,scrollUpdateWasRequested:!1}},r._resetIsScrollingDebounced)},r._outerRefSetter=function(s){var a=r.props.outerRef;r._outerRef=s,typeof a=="function"?a(s):a!=null&&typeof a=="object"&&a.hasOwnProperty("current")&&(a.current=s)},r._resetIsScrollingDebounced=function(){r._resetIsScrollingTimeoutId!==null&&Q(r._resetIsScrollingTimeoutId),r._resetIsScrollingTimeoutId=Ae(r._resetIsScrolling,He)},r._resetIsScrolling=function(){r._resetIsScrollingTimeoutId=null,r.setState({isScrolling:!1},function(){r._getItemStyleCache(-1,null)})},r}T.getDerivedStateFromProps=function(r,s){return Ke(r,s),y(r),null};var I=T.prototype;return I.scrollTo=function(r){r=Math.max(0,r),this.setState(function(s){return s.scrollOffset===r?null:{scrollDirection:s.scrollOffset<r?"forward":"backward",scrollOffset:r,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},I.scrollToItem=function(r,s){s===void 0&&(s="auto");var a=this.props,l=a.itemCount,d=a.layout,m=this.state.scrollOffset;r=Math.max(0,Math.min(r,l-1));var u=0;if(this._outerRef){var f=this._outerRef;d==="vertical"?u=f.scrollWidth>f.clientWidth?X():0:u=f.scrollHeight>f.clientHeight?X():0}this.scrollTo(h(this.props,r,s,m,this._instanceProps,u))},I.componentDidMount=function(){var r=this.props,s=r.direction,a=r.initialScrollOffset,l=r.layout;if(typeof a=="number"&&this._outerRef!=null){var d=this._outerRef;s==="horizontal"||l==="horizontal"?d.scrollLeft=a:d.scrollTop=a}this._callPropsCallbacks()},I.componentDidUpdate=function(){var r=this.props,s=r.direction,a=r.layout,l=this.state,d=l.scrollOffset,m=l.scrollUpdateWasRequested;if(m&&this._outerRef!=null){var u=this._outerRef;if(s==="horizontal"||a==="horizontal")if(s==="rtl")switch(ee()){case"negative":u.scrollLeft=-d;break;case"positive-ascending":u.scrollLeft=d;break;default:var f=u.clientWidth,g=u.scrollWidth;u.scrollLeft=g-f-d;break}else u.scrollLeft=d;else u.scrollTop=d}this._callPropsCallbacks()},I.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&Q(this._resetIsScrollingTimeoutId)},I.render=function(){var r=this.props,s=r.children,a=r.className,l=r.direction,d=r.height,m=r.innerRef,u=r.innerElementType,f=r.innerTagName,g=r.itemCount,j=r.itemData,w=r.itemKey,N=w===void 0?Ue:w,W=r.layout,ie=r.outerElementType,se=r.outerTagName,ae=r.style,le=r.useIsScrolling,ce=r.width,q=this.state.isScrolling,M=l==="horizontal"||W==="horizontal",ue=M?this._onScrollHorizontal:this._onScrollVertical,K=this._getRangeToRender(),de=K[0],he=K[1],V=[];if(g>0)for(var R=de;R<=he;R++)V.push(C.createElement(s,{data:j,key:N(R,j),index:R,isScrolling:le?q:void 0,style:this._getItemStyle(R)}));var B=o(this.props,this._instanceProps);return C.createElement(ie||se||"div",{className:a,onScroll:ue,ref:this._outerRefSetter,style:$({position:"relative",height:d,width:ce,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:l},ae)},C.createElement(u||f||"div",{children:V,ref:m,style:{height:M?"100%":B,pointerEvents:q?"none":void 0,width:M?B:"100%"}}))},I._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var r=this.props.itemCount;if(r>0){var s=this._getRangeToRender(),a=s[0],l=s[1],d=s[2],m=s[3];this._callOnItemsRendered(a,l,d,m)}}if(typeof this.props.onScroll=="function"){var u=this.state,f=u.scrollDirection,g=u.scrollOffset,j=u.scrollUpdateWasRequested;this._callOnScroll(f,g,j)}},I._getRangeToRender=function(){var r=this.props,s=r.itemCount,a=r.overscanCount,l=this.state,d=l.isScrolling,m=l.scrollDirection,u=l.scrollOffset;if(s===0)return[0,0,0,0];var f=x(this.props,u,this._instanceProps),g=_(this.props,f,u,this._instanceProps),j=!d||m==="backward"?Math.max(1,a):1,w=!d||m==="forward"?Math.max(1,a):1;return[Math.max(0,f-j),Math.max(0,Math.min(s-1,g+w)),f,g]},T}(C.PureComponent),e.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},e}var Ke=function(e,n){e.children,e.direction,e.height,e.layout,e.innerTagName,e.outerTagName,e.width,n.instance},Ve=qe({getItemOffset:function(e,n){var o=e.itemSize;return n*o},getItemSize:function(e,n){var o=e.itemSize;return o},getEstimatedTotalSize:function(e){var n=e.itemCount,o=e.itemSize;return o*n},getOffsetForIndexAndAlignment:function(e,n,o,i,h,x){var _=e.direction,v=e.height,b=e.itemCount,y=e.itemSize,O=e.layout,T=e.width,I=_==="horizontal"||O==="horizontal",S=I?T:v,r=Math.max(0,b*y-S),s=Math.min(r,n*y),a=Math.max(0,n*y-S+y+x);switch(o==="smart"&&(i>=a-S&&i<=s+S?o="auto":o="center"),o){case"start":return s;case"end":return a;case"center":{var l=Math.round(a+(s-a)/2);return l<Math.ceil(S/2)?0:l>r+Math.floor(S/2)?r:l}case"auto":default:return i>=a&&i<=s?i:i<a?a:s}},getStartIndexForOffset:function(e,n){var o=e.itemCount,i=e.itemSize;return Math.max(0,Math.min(o-1,Math.floor(n/i)))},getStopIndexForStartIndex:function(e,n,o){var i=e.direction,h=e.height,x=e.itemCount,_=e.itemSize,v=e.layout,b=e.width,y=i==="horizontal"||v==="horizontal",O=n*_,T=y?b:h,I=Math.ceil((T+o-O)/_);return Math.max(0,Math.min(x-1,n+I-1))},initInstanceProps:function(e){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(e){e.itemSize}});function te(t,e){for(var n in t)if(!(n in e))return!0;for(var o in e)if(t[o]!==e[o])return!0;return!1}var Be=["style"],Ge=["style"];function Ye(t,e){var n=t.style,o=Z(t,Be),i=e.style,h=Z(e,Ge);return!te(n,i)&&!te(o,h)}const Ze="_RuleSearch_bd30s_1",Je="_RuleSearchContainer_bd30s_5",Qe="_inputWrapper_bd30s_10",Xe="_input_bd30s_10",et="_iconWrapper_bd30s_36",P={RuleSearch:Ze,RuleSearchContainer:Je,inputWrapper:Qe,input:Xe,iconWrapper:et};function tt({dispatch:t,searchText:e,updateSearchText:n}){const[o,i]=C.useState(e),h=C.useCallback(v=>{t(n(v))},[t,n]),x=C.useMemo(()=>Ce(h,300),[h]),_=v=>{i(v.target.value),x(v.target.value)};return c.jsx("div",{className:P.RuleSearch,children:c.jsxs("div",{className:P.RuleSearchContainer,children:[c.jsx("div",{className:P.inputWrapper,children:c.jsx("input",{type:"text",value:o,onChange:_,className:P.input})}),c.jsx("div",{className:P.iconWrapper,children:c.jsx(Me,{size:20})})]})})}const rt=t=>({searchText:pe(t),updateSearchText:fe}),nt=ne(rt)(tt),ot="_pageWrapper_1jx1o_1",it="_container_1jx1o_13",st="_controls_1jx1o_25",at="_search_1jx1o_36",lt="_tableHeader_1jx1o_42",ct="_th_1jx1o_53",ut="_logsWrapper_1jx1o_60",dt="_logRow_1jx1o_66",ht="_even_1jx1o_78",pt="_cell_1jx1o_82",ft="_content_1jx1o_88",mt="_time_1jx1o_97",gt="_typeTag_1jx1o_104",vt="_logPlaceholder_1jx1o_140",St="_logPlaceholderIcon_1jx1o_154",p={pageWrapper:ot,container:it,controls:st,search:at,tableHeader:lt,th:ct,logsWrapper:ut,logRow:dt,even:ht,cell:pt,content:ft,time:mt,typeTag:gt,"type-debug":"_type-debug_1jx1o_115","type-info":"_type-info_1jx1o_121","type-warning":"_type-warning_1jx1o_127","type-error":"_type-error_1jx1o_133",logPlaceholder:vt,logPlaceholderIcon:St},{useCallback:re,memo:_t,useEffect:yt}=je,xt=46,It=t=>{switch(t.toLowerCase()){case"debug":return p["type-debug"];case"info":return p["type-info"];case"warning":return p["type-warning"];case"error":return p["type-error"];default:return p["type-info"]}};function bt({time:t,even:e,payload:n,type:o,style:i}){return c.jsxs("div",{style:i,className:E(p.logRow,{[p.even]:e}),children:[c.jsx("div",{className:E(p.cell,p.time),title:t,children:t}),c.jsx("div",{className:p.cell,children:c.jsx("span",{className:E(p.typeTag,It(o)),children:o})}),c.jsx("div",{className:E(p.cell,p.content),title:n,children:n})]})}function jt(t,e){return e[t].id}const oe=_t(({index:t,style:e,data:n})=>{const o=n[t];return c.jsx(bt,{...o,even:t%2===0,style:e})},Ye);oe.displayName="MemoRow";function wt({dispatch:t,logLevel:e,apiConfig:n,logs:o,logStreamingPaused:i}){const h=me(),x=re(()=>{i?we({...n,logLevel:e}):Oe(),h.app.updateAppConfig("logStreamingPaused",!i)},[n,e,i,h.app]),_=re(O=>t(ge(O)),[t]);yt(()=>{Te({...n,logLevel:e},_)},[n,e,_]);const[v,b]=ze(),{t:y}=ve();return c.jsxs("div",{className:p.pageWrapper,children:[c.jsx(Se,{title:y("Logs")}),c.jsxs("div",{className:p.container,ref:v,children:[c.jsx("div",{className:p.controls,children:c.jsx("div",{className:p.search,children:c.jsx(nt,{})})}),c.jsxs("div",{className:p.tableHeader,children:[c.jsx("div",{className:p.th,children:y("Time")||"Time"}),c.jsx("div",{className:p.th,children:y("Level")||"Level"}),c.jsx("div",{className:p.th,children:y("Content")||"Content"})]}),c.jsx("div",{className:p.logsWrapper,children:o.length===0?c.jsxs("div",{className:p.logPlaceholder,children:[c.jsx("div",{className:p.logPlaceholderIcon,children:c.jsx(_e,{width:150,height:150})}),c.jsx("div",{children:y("no_logs")})]}):c.jsxs(c.Fragment,{children:[c.jsx(Ve,{height:b-120,width:"100%",itemCount:o.length,itemSize:xt,itemData:o,itemKey:jt,className:p.list,children:oe}),c.jsx(Ne,{icon:i?c.jsx(Re,{size:16}):c.jsx(Pe,{size:16}),mainButtonStyles:i?{background:"#28a745"}:{background:"var(--color-focus-blue)"},style:We,text:y(i?"Resume":"Pause"),onClick:x})]})})]})]})}const Ot=t=>({logs:ye(t),logLevel:xe(t),apiConfig:Ie(t),logStreamingPaused:be(t)}),Nt=ne(Ot)(wt);export{Nt as default};
