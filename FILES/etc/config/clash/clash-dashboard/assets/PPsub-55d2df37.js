import{u as Re,r as y,j as e}from"./index-d6c7cd76.js";function De(){var ie;const{t:Ce,i18n:ce}=Re(),[g,S]=y.useState([]),[p,h]=y.useState([]),[x,m]=y.useState([]),[_e,K]=y.useState(new Set);y.useState(!1),y.useState([]),y.useState({x:0,y:0}),y.useState(null);const[J,O]=y.useState(!1),[E,de]=y.useState({x:0,y:0,verticalAlign:"top"}),[$,X]=y.useState("down"),[j,pe]=y.useState(null),[R,C]=y.useState(null),Y=y.useRef(null),[V,P]=y.useState(null),[_,Z]=y.useState(""),[ue,N]=y.useState(null),[xe,L]=y.useState(null),[T,ye]=y.useState("sub"),[W,A]=y.useState(!1),[z,F]=y.useState(""),[q,H]=y.useState(3),[B,G]=y.useState("0"),[Q,M]=y.useState(""),[ee,te]=y.useState(null),[f,D]=y.useState(null),[I,oe]=y.useState({show:!1,message:"",type:"info"}),a=(ie=ce.language)==null?void 0:ie.startsWith("zh"),i={title:a?"PPsubé…ç½®ç¼–è¾‘å™¨":"PPsub Config Editor",exportJson:a?"å¯¼å‡ºé…ç½®":"Export JSON",importJson:a?"å¯¼å…¥é…ç½®":"Import JSON",loadCurrent:a?"å½“å‰é…ç½®":"Current Config",authError:a?"æœªæŽˆæƒè®¿é—®: è¯·å…ˆç™»å½•":"Unauthorized: Please login first",configNotFound:a?"å½“å‰é…ç½®ä¸å­˜åœ¨":"Current config not found",loadSuccessWarn:a?"åªè¯»é…ç½®ä»…ä¾›è½½å…¥ç¼–è¾‘å™¨ï¼Œç¼–è¾‘å®ŒæˆåŽè¯·ä¸è¦å¿˜è®°å¯¼å‡ºé…ç½®ï¼":"Read-only config loaded. Don't forget to Export after editing!",loadError:a?"åŠ è½½å¤±è´¥: ":"Load Failed: ",monitorTitle:a?"å…¨å±€å¥åº·ç›‘æµ‹":"Global Health Monitor",enableMonitor:a?"å¼€å¯å…¨å±€å¥åº·ç›‘æµ‹":"Enable Global Health Monitor",monitorUrl:a?"ç›‘æµ‹URL":"Check URL",monitorUrlDesc:a?"è‹¥ä¸ºç©ºï¼Œé»˜è®¤ä¸º https://www.youtube.com/generate_204":"Default: https://www.youtube.com/generate_204 if empty",monitorRetries:a?"å¤±è´¥é‡è½½é˜ˆå€¼ (æ¬¡)":"Failure Threshold (Times)",monitorRetriesDesc:a?"å½“è¿žç»­ç›‘æµ‹å¤±è´¥è¾¾åˆ°æ­¤æ¬¡æ•°åŽï¼Œé‡è½½æ‰€æœ‰é…ç½®ã€‚":"Reload all configs after consecutive failures reach this count.",monitorStatus:a?"æœŸæœ›è¿”å›žç ":"Expected Status",monitorStatusAny:a?"ä»»æ„ (Any)":"Any",monitorStatusCustom:a?"è‡ªå®šä¹‰":"Custom",monitorCustomPlaceholder:a?"è¾“å…¥çŠ¶æ€ç  (å¦‚ 200) æˆ–èŒƒå›´ (å¦‚ 200-399)":"Code (e.g. 200) or Range (e.g. 200-399)",subsTitle:a?"è®¢é˜…æä¾›å•†":"Subscription Providers",addSub:a?"æ·»åŠ è®¢é˜…æä¾›å•†":"Add Provider",nodeGroupsTitle:a?"èŠ‚ç‚¹ç»„":"Node Groups",addNodeGroup:a?"æ·»åŠ èŠ‚ç‚¹ç»„":"Add Node Group",ruleSetsTitle:a?"è§„åˆ™ç»„":"Rule Group",addRuleSet:a?"æ·»åŠ è§„åˆ™ç»„":"Add Rule",name:a?"åç§°":"Name",url:"URL",forcedDep:a?"å¼ºåˆ¶ä¾èµ–":"Forced Dependency",forcedDepDesc:a?"å¦‚æžœæœ‰å¼ºåˆ¶ä¾èµ–çš„å±žæ€§ï¼Œä¸‹è½½å¤±è´¥åˆ™è§†ä¸ºå¤„ç†å¤±è´¥ã€‚":"If forced dependency is set, download failure will be treated as processing failure.",deleteSub:a?"åˆ é™¤æ­¤è®¢é˜…æä¾›å•†":"Delete Provider",deleteNodeGroup:a?"åˆ é™¤æ­¤èŠ‚ç‚¹ç»„":"Delete Node Group",deleteRuleSet:a?"åˆ é™¤æ­¤è§„åˆ™ç»„":"Delete Rule Set",nodeGroupName:a?"èŠ‚ç‚¹ç»„åç§°":"Node Group Name",nodeMode:a?"èŠ‚ç‚¹æ¨¡å¼":"Node Mode",speedtestMode:a?"æµ‹é€Ÿæ¨¡å¼":"Speedtest Mode",manualMode:a?"æ‰‹åŠ¨é€‰æ‹©æ¨¡å¼":"Manual Selection Mode",speedtestUrl:a?"æµ‹é€ŸURL":"Speedtest URL",speedtestInterval:a?"æµ‹é€Ÿé—´éš”":"Speedtest Interval",keywords:a?"èŠ‚ç‚¹å…³é”®å­—":"Node Keywords",excludeKeywords:a?"æŽ’é™¤å…³é”®å­—":"Exclude Keywords",subsProvider:a?"è®¢é˜…æä¾›å•†":"Subscription Providers",nodeSource:a?"èŠ‚ç‚¹æ¥æº":"Node Source",filterSub:a?"è®¢é˜…æä¾›å•†":"Subscription Providers",filterGroup:a?"èŠ‚ç‚¹ç»„":"Node Groups",filterBoth:a?"æ··åˆ(ä¸¤è€…)":"Both",addKeyword:a?"æ·»åŠ å…³é”®å­—":"Add Keyword",addExcludeKeyword:a?"æ·»åŠ æŽ’é™¤å…³é”®å­—":"Add Exclude Keyword",selectSub:a?"é€‰æ‹©èŠ‚ç‚¹æ¥æº":"Select Node Source",all:a?"å…¨éƒ¨è®¢é˜…":"All Subscriptions",ruleType:a?"è§„åˆ™ç±»åž‹":"Rule Type",manualRule:a?"æ‰‹å†™è§„åˆ™":"Manual Rule",urlDownload:a?"URLä¸‹è½½":"URL Download",ruleSetType:a?"RULE-SETè®¢é˜…":"RULE-SET Sub",ruleUrl:a?"è§„åˆ™URL":"Rule URL",ruleContent:a?"è§„åˆ™å†…å®¹":"Rule Content",moveUp:a?"ä¸Šç§»":"Move Up",moveDown:a?"ä¸‹ç§»":"Move Down",addRemark:a?"ç‚¹å‡»æ·»åŠ å¤‡æ³¨...":"Click to add remark...",topPriority:a?"æœ€ä¼˜å…ˆ":"Top Priority",highPriority:a?"æ¬¡ä¼˜å…ˆ":"High Priority",lastPriority:a?"æœ€åŽ":"Last",priority:a?"ä¼˜å…ˆçº§":"Priority",confirm:a?"ç¡®è®¤åˆ é™¤":"Confirm Delete",cancel:a?"å–æ¶ˆ":"Cancel",emptyState:a?"æš‚æ— æ•°æ®ï¼Œç‚¹å‡»ä¸‹æ–¹æŒ‰é’®æ·»åŠ ":"No data yet, click button below to add",importFailed:a?"å¯¼å…¥å¤±è´¥":"Import failed",intervalPlaceholder:a?"ç•™ç©ºé»˜è®¤ä¸º600ç§’":"Default 600s if empty",behavior:a?"è¡Œä¸º(Behavior)":"Behavior",ruleSetInterval:a?"æ›´æ–°é—´éš”(ç§’)":"Interval (s)",ruleFormat:a?"æ ¼å¼(Format)":"Format",downloadViaProxy:a?"é€šè¿‡èŠ‚ç‚¹ç»„ä¸‹è½½":"Download via Node Group",selectProxy:a?"é€‰æ‹©æˆ–è¾“å…¥èŠ‚ç‚¹ç»„":"Select or type Group",copy:a?"å¤åˆ¶":"Copy",copySuffix:a?"-å¤åˆ¶":"-copy",keywordFilterHint:a?"å…³é”®å­—ç­›é€‰ä»…å¯¹æ¥è‡ªâœˆï¸è®¢é˜…æä¾›å•†çš„èŠ‚ç‚¹ç”Ÿæ•ˆ":"Keyword filtering only affects nodes from âœˆï¸Subscription Providers",usePreProxy:a?"ä½¿ç”¨å‰ç½®ä»£ç†":"Use Pre-proxy",selectPreProxy:a?"é€‰æ‹©èŠ‚ç‚¹ç»„ä½œä¸ºå‰ç½®ä»£ç†":"Select Pre-proxy",preProxyHint:a?'é€‰æ‹©â€œ{{preProxy}}â€èŠ‚ç‚¹ç»„ä¸ºå‰ç½®ä»£ç†ï¼Œåˆ™â€œ{{currentGroup}}â€ä¼šå…ˆç»è¿‡â€œ{{preProxy}}â€è¿›è¡Œä¸­è½¬ï¼Œä¹Ÿå°±æ˜¯é“¾å¼ä»£ç†ï¼Œåœ¨è§„åˆ™ä¸­è°ƒç”¨â€œ{{currentGroup}}â€çš„æ•ˆæžœå°±æ˜¯->â€œ{{preProxy}}â€->"{{currentGroup}}"->ç½‘ç«™ã€‚':'Select "{{preProxy}}" as pre-proxy, then "{{currentGroup}}" will pass through the â€œ{{preProxy}}â€ first. The effect in rules calling "{{currentGroup}}" is -> â€œ{{preProxy}}â€ -> "{{currentGroup}}" -> Website.'},v=(o,n)=>{oe({show:!0,message:o,type:n}),setTimeout(()=>oe(r=>({...r,show:!1})),5e3)},re=o=>{try{if(o.global_monitor){A(!!o.global_monitor.enable),F(o.global_monitor.url||""),H(o.global_monitor.retries!==void 0?o.global_monitor.retries:3);const r=String(o.global_monitor.expected_status||"0");["0","200","204","200-399"].includes(r)?(G(r),M("")):(G("custom"),M(r))}else A(!1),F(""),H(3),G("0"),M("");S((o.subs||[]).map(r=>({name:r.name||"",url:r.url||"",isforced:r.isforced||!1}))),h((o["node-groups"]||[]).map(r=>({name:r.name||"",keywords:r.keywords||[],exclude_keywords:r.exclude_keywords||[],subs:r.subs||[],include:r.include||[],mode:r.speedtest_url||r.interval?"speedtest":"manual",speedtest_url:r.speedtest_url||"",interval:r.interval?String(r.interval):"",use_pre_proxy:!!r.use_pre_proxy,pre_proxy_group:r.pre_proxy_group||""})));const n=o.rules||o["rule-sets"]||[];m(n.map((r,l)=>{let s="manual";r.type==="rule-set"?s="rule-set":r.url&&(s="url");let c="";return s==="manual"&&(Array.isArray(r.fixrule)?c=r.fixrule.join(`
`):r.content&&(c=r.content)),{priority:l+1,remark:r.remark||"",name:r.name||"",type:s,url:s==="url"&&r.url||"",rule_set_url:s==="rule-set"&&r.url||"",content:c,isforced:r.isforced||!1,behavior:r.behavior||"classical",interval:r.interval||86400,format:r.format||"yaml",use_proxy:!!r.proxy,proxy_group:r.proxy||""}}))}catch(n){throw n}},he=()=>{let o=B;B==="custom"&&(o=Q);const n=z.trim()===""?"https://www.youtube.com/generate_204":z,r={version:"1.0",exported_at:new Date().toISOString(),global_monitor:{enable:W,url:n,retries:q,expected_status:o},subs:g.map(d=>{const u={name:d.name,url:d.url};return d.isforced&&(u.isforced=!0),u}),"node-groups":p.map(d=>{var b,k;const u={name:d.name,keywords:d.keywords.filter(w=>typeof w=="string"),exclude_keywords:d.exclude_keywords.filter(w=>typeof w=="string"),subs:d.subs.length>0?d.subs:d.include&&d.include.length>0?[]:["all"],include:d.include||[],use_pre_proxy:d.use_pre_proxy,pre_proxy_group:d.pre_proxy_group};return d.mode==="speedtest"&&((b=d.speedtest_url)!=null&&b.trim()&&(u.speedtest_url=d.speedtest_url.trim()),u.interval=(k=d.interval)!=null&&k.trim()?parseInt(d.interval.trim()):600),u}),rules:x.map((d,u)=>{const b={priority:(u+1)*10};if(d.remark&&(b.remark=d.remark),d.type==="rule-set")b.type="rule-set",b.name=d.name||`ruleset_${u}`,b.url=d.rule_set_url||d.url,b.behavior=d.behavior||"classical",b.interval=d.interval||86400,b.format=d.format||"yaml",d.use_proxy&&d.proxy_group&&(b.proxy=d.proxy_group);else if(d.type==="url")b.url=d.url,d.isforced&&(b.isforced=!0);else{const k=(d.content||"").split(`
`).map(w=>fe(w)).filter(w=>w!==null);b.fixrule=k}return b})},l=new Blob([JSON.stringify(r,null,2)],{type:"application/json"}),s=URL.createObjectURL(l),c=document.createElement("a");c.href=s,c.download="ppsub.json",c.click(),URL.revokeObjectURL(s)},be=o=>{var l;const n=(l=o.target.files)==null?void 0:l[0];if(!n)return;const r=new FileReader;r.onload=s=>{var c;try{const d=JSON.parse((c=s.target)==null?void 0:c.result);re(d),v(i.loadSuccessWarn,"success")}catch(d){alert(`${i.importFailed}: ${d}`)}},r.readAsText(n),o.target&&(o.target.value="")},me=async()=>{const o="PaoPaoGateWay",n=localStorage.getItem(o);let r="";if(!n){v(i.authError,"error");return}try{const l=JSON.parse(n);if(!l.clashAPIConfigs||l.clashAPIConfigs.length===0){v(i.authError,"error");return}r=l.clashAPIConfigs[0].secret}catch{v(i.authError,"error");return}try{if(!(await fetch("/version",{headers:{Authorization:"Bearer "+r}})).ok){v(i.authError,"error");return}}catch{v(i.authError,"error");return}try{const l=Math.floor(Date.now()/1e3),s=await fetch(`./ppsub_readonly/ppsub_readkey.json?_=${l}`);if(!s.ok){v(i.configNotFound,"error");return}const d=(await s.json()).ppsub_readkey;if(!d){v(i.configNotFound,"error");return}const b=`./ppsub_readonly/${sha256(d+r)}/ppsub.json?t=${l}`,k=await fetch(b);if(!k.ok){v(i.configNotFound,"error");return}const w=await k.json();re(w),v(i.loadSuccessWarn,"success")}catch(l){console.error(l),v(i.loadError+(l.message||"Unknown error"),"error")}},fe=o=>{o=o.trim().replace(/^[-\s]+/,"");const n=o.indexOf("#");if(n!==-1&&(o=o.substring(0,n).trim()),!o)return null;const r=o.indexOf(",");if(r===-1)return o.toUpperCase().replace(/[-\s_]/g,"")==="MATCH"?"MATCH,auto":null;const l=o.substring(0,r).trim(),s=o.substring(r+1).trim(),c=l.toUpperCase().replace(/[-\s_]/g,""),d={DOMAIN:"DOMAIN",DOMAINSUFFIX:"DOMAIN-SUFFIX",DOMAINKEYWORD:"DOMAIN-KEYWORD",DOMAINWILDCARD:"DOMAIN-WILDCARD",DOMAINREGEX:"DOMAIN-REGEX",GEOSITE:"GEOSITE",IPCIDR:"IP-CIDR",IPCIDR6:"IP-CIDR6",IPSUFFIX:"IP-SUFFIX",IPASN:"IP-ASN",GEOIP:"GEOIP",SRCGEOIP:"SRC-GEOIP",SRCIPASN:"SRC-IP-ASN",SRCIPCIDR:"SRC-IP-CIDR",SRCIPSUFFIX:"SRC-IP-SUFFIX",SRCPORT:"SRC-PORT",DSTPORT:"DST-PORT",NETWORK:"NETWORK",RULESET:"RULE-SET",SUBRULE:"SUB-RULE",AND:"AND",OR:"OR",NOT:"NOT",MATCH:"MATCH"};return d.hasOwnProperty(c)?`${d[c]},${s}`:null},ge=(o,n)=>{o==="sub"?S(r=>r.filter((l,s)=>s!==n)):o==="nodeGroup"?h(r=>r.filter((l,s)=>s!==n)):o==="ruleSet"&&m(r=>r.filter((s,c)=>c!==n).map((s,c)=>({...s,priority:c+1}))),C(null)},ve=o=>{const n=[...g],r={...n[o]};r.name=r.name+i.copySuffix,n.splice(o+1,0,r),S(n)},we=o=>{const n=[...p],r=n[o],l={...r,keywords:JSON.parse(JSON.stringify(r.keywords)),exclude_keywords:JSON.parse(JSON.stringify(r.exclude_keywords)),subs:[...r.subs],include:[...r.include||[]],name:r.name+i.copySuffix,use_pre_proxy:r.use_pre_proxy,pre_proxy_group:r.pre_proxy_group};l.keywords=l.keywords.map(s=>typeof s=="object"&&s.isNew?{...s,id:Date.now()+Math.random()}:s),l.exclude_keywords=l.exclude_keywords.map(s=>typeof s=="object"&&s.isNew?{...s,id:Date.now()+Math.random()}:s),n.splice(o+1,0,l),h(n)},Se=o=>{const n=[...x],l={...n[o]};l.name&&(l.name+=i.copySuffix),l.remark&&(l.remark+=i.copySuffix),delete l.editingRemark,n.splice(o+1,0,l);const s=n.map((c,d)=>({...c,priority:d+1}));m(s)},se=(o,n)=>{m(r=>{const l=[...r];let s=o;return n==="up"&&o>0?([l[o],l[o-1]]=[l[o-1],l[o]],s=o-1):n==="down"&&o<l.length-1&&([l[o],l[o+1]]=[l[o+1],l[o]],s=o+1),D({type:"ruleSet",index:s}),setTimeout(()=>D(null),800),l.map((c,d)=>({...c,priority:d+1}))})},ne=(o,n)=>{S(r=>{const l=[...r];let s=o;return n==="up"&&o>0?([l[o],l[o-1]]=[l[o-1],l[o]],s=o-1):n==="down"&&o<l.length-1&&([l[o],l[o+1]]=[l[o+1],l[o]],s=o+1),D({type:"sub",index:s}),setTimeout(()=>D(null),800),l})},le=(o,n)=>{h(r=>{const l=[...r];let s=o;return n==="up"&&o>0?([l[o],l[o-1]]=[l[o-1],l[o]],s=o-1):n==="down"&&o<l.length-1&&([l[o],l[o+1]]=[l[o+1],l[o]],s=o+1),D({type:"nodeGroup",index:s}),setTimeout(()=>D(null),800),l})},je=(o,n)=>o===1?"#ff6b35":o===2?"#f7931e":o===n?"#6c757d":"#17a2b8",U=["#ff6b35","#f7931e","#ffc107","#28a745","#17a2b8","#6610f2","#e83e8c"],ke=Math.max(0,...p.map(o=>(o.name||"").length)),ae=Math.max(180,Math.min(400,150+ke*10))+"px";return e.jsxs("div",{style:t.body,children:[I.show&&e.jsx("div",{style:{...t.notificationBanner,...I.type==="error"?t.notificationError:t.notificationSuccess},children:I.message}),e.jsx("style",{children:`
                    @keyframes highlight {
                        0% { background-color: rgba(255, 255, 0, 0.3); transform: scale(1.02); }
                        100% { background-color: transparent; transform: scale(1); }
                    }
                `}),e.jsxs("div",{style:t.container,children:[e.jsxs("header",{style:t.header,children:[e.jsxs("div",{style:t.titleContainer,children:[e.jsx("img",{src:"./paopaogateway.svg",alt:"PPsub Logo",style:t.logo}),e.jsx("h1",{style:t.title,children:i.title}),e.jsx("button",{onClick:()=>window.open("https://geo.03k.org/","_blank"),style:{...t.geoBtn,marginLeft:"20px"},children:"GEO"})]}),e.jsxs("div",{style:t.headerActions,children:[e.jsx("button",{onClick:me,style:{...t.loadBtn},children:i.loadCurrent}),e.jsx("button",{onClick:he,style:{...t.exportBtn},children:i.exportJson}),e.jsx("button",{onClick:()=>{var o;return(o=Y.current)==null?void 0:o.click()},style:{...t.importBtn},children:i.importJson}),e.jsx("input",{ref:Y,type:"file",accept:".json",onChange:be,style:{display:"none"}})]})]}),e.jsxs("div",{style:t.content,children:[e.jsxs("section",{style:t.sectionMonitor,children:[e.jsx("div",{style:t.sectionHeader,children:e.jsx("h2",{style:t.sectionTitleMonitor,children:i.monitorTitle})}),e.jsxs("div",{style:t.item,children:[e.jsx("div",{style:t.checkboxRow,children:e.jsxs("label",{style:t.checkboxLabel,children:[e.jsx("input",{type:"checkbox",checked:W,onChange:o=>A(o.target.checked),style:t.checkbox}),e.jsx("span",{style:t.checkboxText,children:i.enableMonitor})]})}),W&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:t.itemRow,children:[e.jsxs("label",{style:t.label,children:[i.monitorUrl,":"]}),e.jsx("input",{type:"text",value:z,onChange:o=>F(o.target.value),style:t.input,placeholder:"https://www.youtube.com/generate_204",spellCheck:!1}),e.jsx("span",{style:{fontSize:"0.85em",color:"var(--color-text-secondary)",alignSelf:"center",marginLeft:"10px"},children:i.monitorUrlDesc})]}),e.jsxs("div",{style:t.itemRow,children:[e.jsxs("label",{style:t.label,children:[i.monitorStatus,":"]}),e.jsxs("select",{value:B,onChange:o=>G(o.target.value),style:{...t.input,maxWidth:"200px",cursor:"pointer"},children:[e.jsx("option",{value:"0",children:i.monitorStatusAny}),e.jsx("option",{value:"200",children:"200"}),e.jsx("option",{value:"204",children:"204"}),e.jsx("option",{value:"200-399",children:"200-399"}),e.jsx("option",{value:"custom",children:i.monitorStatusCustom})]}),B==="custom"&&e.jsx("input",{type:"text",value:Q,onChange:o=>M(o.target.value),style:{...t.input,marginLeft:"10px"},placeholder:i.monitorCustomPlaceholder,spellCheck:!1})]}),e.jsxs("div",{style:t.itemRow,children:[e.jsxs("label",{style:t.label,children:[i.monitorRetries,":"]}),e.jsx("input",{type:"number",value:q,onChange:o=>H(parseInt(o.target.value)||1),style:{...t.input,maxWidth:"150px"},min:"1",spellCheck:!1}),e.jsx("span",{style:{fontSize:"0.85em",color:"var(--color-text-secondary)",alignSelf:"center",marginLeft:"10px"},children:i.monitorRetriesDesc})]})]})]})]}),e.jsxs("section",{style:t.sectionSubs,children:[e.jsx("div",{style:t.sectionHeader,children:e.jsx("h2",{style:t.sectionTitleSubs,children:i.subsTitle})}),g.length===0?e.jsx("div",{style:t.emptyState,children:i.emptyState}):g.map((o,n)=>e.jsxs("div",{style:{...t.item,...(f==null?void 0:f.type)==="sub"&&f.index===n?{animation:"highlight 0.8s ease-out",borderColor:"#17a2b8",boxShadow:"0 0 10px rgba(23, 162, 184, 0.5)"}:{}},children:[e.jsxs("div",{style:t.itemHeader,children:[e.jsxs("span",{style:t.itemNumber,children:["#",n+1]}),e.jsx("span",{style:t.itemName,children:o.name||(a?"æœªå‘½åè®¢é˜…æä¾›å•†":"Unnamed Provider")}),e.jsxs("div",{style:{marginLeft:"auto",display:"flex",gap:"8px",alignItems:"center"},children:[e.jsxs("button",{onClick:()=>ne(n,"up"),disabled:n===0,style:n===0?{...t.priorityBtn,opacity:.3,cursor:"not-allowed"}:t.priorityBtn,children:["â†‘ ",i.moveUp]}),e.jsxs("button",{onClick:()=>ne(n,"down"),disabled:n===g.length-1,style:n===g.length-1?{...t.priorityBtn,opacity:.3,cursor:"not-allowed"}:t.priorityBtn,children:["â†“ ",i.moveDown]}),e.jsx("button",{onClick:()=>ve(n),style:t.copyBtn,children:i.copy}),e.jsx("button",{onClick:r=>C({type:"sub",index:n,x:r.clientX,y:r.clientY}),style:t.deleteBtn,children:i.deleteSub})]})]}),e.jsxs("div",{style:t.itemRow,children:[e.jsxs("label",{style:{...t.label,minWidth:"auto",marginRight:"10px"},children:[i.name,":"]}),e.jsx("input",{type:"text",value:o.name,title:o.name,onChange:r=>{const l=[...g];l[n].name=r.target.value,S(l)},style:{...t.input,flex:"none",width:"180px"},placeholder:a?"ä¾‹å¦‚: æŸæœºåœº":"e.g. My Provider",spellCheck:!1,autoComplete:"off",autoCapitalize:"off"}),e.jsxs("label",{style:{...t.label,minWidth:"auto",marginLeft:"10px"},children:[i.url,":"]}),e.jsx("input",{type:"text",value:o.url,title:o.url,onChange:r=>{const l=[...g];l[n].url=r.target.value,S(l)},style:t.input,placeholder:a?"è®¢é˜…é“¾æŽ¥åœ°å€":"Subscription URL",spellCheck:!1})]}),e.jsxs("div",{style:{...t.checkboxRow,flexDirection:"row",alignItems:"center"},children:[e.jsxs("label",{style:t.checkboxLabel,children:[e.jsx("input",{type:"checkbox",checked:o.isforced,onChange:r=>{const l=[...g];l[n].isforced=r.target.checked,S(l)},style:t.checkbox}),e.jsx("span",{style:t.checkboxText,children:i.forcedDep})]}),e.jsx("span",{style:{...t.checkboxDesc,marginLeft:"10px"},children:i.forcedDepDesc})]})]},n)),e.jsx("div",{style:t.sectionFooter,children:e.jsxs("button",{onClick:()=>S([...g,{name:"",url:"",isforced:!1}]),style:t.addBtnSubs,children:["+ ",i.addSub]})})]}),e.jsxs("section",{style:t.sectionNodes,children:[e.jsx("div",{style:t.sectionHeader,children:e.jsx("h2",{style:t.sectionTitleNodes,children:i.nodeGroupsTitle})}),p.length===0?e.jsx("div",{style:t.emptyState,children:i.emptyState}):p.map((o,n)=>e.jsxs("div",{style:{...t.item,...o.use_pre_proxy&&o.pre_proxy_group?{boxShadow:"0 0 15px rgba(255, 193, 7, 0.4)",border:"1px solid #ffc107",background:"rgba(255, 193, 7, 0.05)"}:{},...(f==null?void 0:f.type)==="nodeGroup"&&f.index===n?{animation:"highlight 0.8s ease-out",borderColor:"#ab47bc",boxShadow:"0 0 10px rgba(171, 71, 188, 0.5)"}:{}},children:[e.jsxs("div",{style:t.itemHeader,children:[e.jsxs("span",{style:t.itemNumber,children:["#",n+1]}),e.jsx("span",{style:t.itemName,children:o.name||(a?"æœªå‘½åèŠ‚ç‚¹ç»„":"Unnamed Node Group")}),e.jsxs("div",{style:{marginLeft:"auto",display:"flex",gap:"8px",alignItems:"center"},children:[e.jsxs("button",{onClick:()=>le(n,"up"),disabled:n===0,style:n===0?{...t.priorityBtn,opacity:.3,cursor:"not-allowed"}:t.priorityBtn,children:["â†‘ ",i.moveUp]}),e.jsxs("button",{onClick:()=>le(n,"down"),disabled:n===p.length-1,style:n===p.length-1?{...t.priorityBtn,opacity:.3,cursor:"not-allowed"}:t.priorityBtn,children:["â†“ ",i.moveDown]}),e.jsx("button",{onClick:()=>we(n),style:t.copyBtn,children:i.copy}),e.jsx("button",{onClick:r=>C({type:"nodeGroup",index:n,x:r.clientX,y:r.clientY}),style:t.deleteBtn,children:i.deleteNodeGroup})]})]}),e.jsxs("div",{style:t.itemRow,children:[e.jsxs("label",{style:{...t.label,marginRight:"5px"},children:[i.nodeGroupName,":"]}),e.jsx("input",{type:"text",value:o.name,title:o.name,onChange:r=>{const l=r.target.value,s=p[n].name,c=[...p];c[n].name=l,h(c),s!==l&&m(d=>d.map(u=>u.proxy_group===s?{...u,proxy_group:l}:u))},style:{...t.input,flex:"none",width:"200px"},placeholder:a?"ä¾‹å¦‚: AIä¸“ç”¨":"e.g. AI Nodes",spellCheck:!1,autoComplete:"off",autoCapitalize:"off"}),e.jsxs("label",{style:{...t.label,minWidth:"auto",marginLeft:"10px"},children:[i.nodeMode,":"]}),e.jsxs("div",{style:{...t.radioGroup,paddingTop:0},children:[e.jsxs("label",{style:t.radioLabel,children:[e.jsx("input",{type:"radio",checked:o.mode==="manual",onChange:()=>{const r=[...p];r[n].mode="manual",h(r)},style:t.radio}),e.jsx("span",{children:i.manualMode})]}),e.jsxs("label",{style:t.radioLabel,children:[e.jsx("input",{type:"radio",checked:o.mode==="speedtest",onChange:()=>{const r=[...p];r[n].mode="speedtest",h(r)},style:t.radio}),e.jsx("span",{children:i.speedtestMode})]})]})]}),o.mode==="speedtest"&&e.jsx(e.Fragment,{children:e.jsxs("div",{style:t.itemRow,children:[e.jsxs("label",{style:t.label,children:[i.speedtestInterval,":"]}),e.jsx("input",{type:"text",value:o.interval||"",title:o.interval||"",onChange:r=>{const l=[...p];l[n].interval=r.target.value,h(l)},style:{...t.input,flex:"none",width:"150px"},placeholder:i.intervalPlaceholder,spellCheck:!1}),e.jsxs("label",{style:{...t.label,minWidth:"auto",marginLeft:"20px"},children:[i.speedtestUrl,":"]}),e.jsx("input",{type:"text",value:o.speedtest_url||"",title:o.speedtest_url||"",onChange:r=>{const l=[...p];l[n].speedtest_url=r.target.value,h(l)},style:t.input,placeholder:a?"æµ‹é€ŸURLåœ°å€":"Speedtest URL",spellCheck:!1})]})}),e.jsxs("div",{style:t.itemRow,children:[e.jsxs("label",{style:t.label,children:[i.keywords,":"]}),e.jsxs("div",{style:t.keywordContainer,children:[o.keywords.map((r,l)=>typeof r=="object"&&r.isNew?e.jsxs("div",{style:{position:"relative",display:"inline-block"},children:[e.jsx("input",{type:"text",autoFocus:!0,value:r.value,title:r.value,onFocus:()=>P(r.id),onChange:s=>{const c=[...p];c[n].keywords[l].value=s.target.value,h(c)},onBlur:()=>{P(null);const s=[...p],c=s[n].keywords[l].value.trim();c?(s[n].keywords[l]=c,K(d=>new Set([...d,c]))):s[n].keywords.splice(l,1),h(s)},onKeyPress:s=>{s.key==="Enter"&&s.target.blur()},style:t.keywordInput,placeholder:a?"è¾“å…¥å…³é”®å­—":"Enter keyword",spellCheck:!1}),V===r.id&&e.jsxs("div",{style:t.keywordHintTooltip,children:["                                                                   ",a?"ä»¥ exp# å¼€å¤´çš„å…³é”®å­—å¯åŒ¹é…æ­£åˆ™ï¼Œæ¯”å¦‚ exp#hk[1-3]":"Start with exp# for Regex matching, e.g. exp#hk[1-3]"]})]},`new-${r.id}`):e.jsxs("span",{style:{...t.keywordTag,background:U[l%U.length]},children:[r,e.jsx("span",{onClick:()=>{const s=[...p];s[n].keywords.splice(l,1),h(s)},style:t.removeTag,children:"Ã—"})]},l)),!o.keywords.some(r=>typeof r=="object"&&r.isNew)&&e.jsxs("button",{onClick:()=>{const r=[...p];r[n].keywords.push({id:Date.now(),value:"",isNew:!0}),h(r)},style:t.addTagBtn,children:["+ ",i.addKeyword]})]})]}),e.jsxs("div",{style:t.itemRow,children:[e.jsxs("label",{style:t.label,children:[i.excludeKeywords,":"]}),e.jsxs("div",{style:t.keywordContainer,children:[o.exclude_keywords.map((r,l)=>typeof r=="object"&&r.isNew?e.jsxs("div",{style:{position:"relative",display:"inline-block"},children:[e.jsx("input",{type:"text",autoFocus:!0,value:r.value,onFocus:()=>P(r.id),onChange:s=>{const c=[...p];c[n].exclude_keywords[l].value=s.target.value,h(c)},onBlur:()=>{P(null);const s=[...p],c=s[n].exclude_keywords[l].value.trim();c?(s[n].exclude_keywords[l]=c,K(d=>new Set([...d,c]))):s[n].exclude_keywords.splice(l,1),h(s)},onKeyPress:s=>{s.key==="Enter"&&s.target.blur()},style:t.keywordInput,placeholder:a?"è¾“å…¥æŽ’é™¤å…³é”®å­—":"Enter exclude keyword",spellCheck:!1}),V===r.id&&e.jsx("div",{style:t.keywordHintTooltip,children:a?"ä»¥ exp# å¼€å¤´çš„å…³é”®å­—å¯åŒ¹é…æ­£åˆ™ï¼Œæ¯”å¦‚ exp#hk[1-3]":"Start with exp# for Regex matching, e.g. exp#hk[1-3]"})]},`new-${r.id}`):e.jsxs("span",{style:{...t.keywordTag,background:U[(l+3)%U.length]},children:[r,e.jsx("span",{onClick:()=>{const s=[...p];s[n].exclude_keywords.splice(l,1),h(s)},style:t.removeTag,children:"Ã—"})]},l)),!o.exclude_keywords.some(r=>typeof r=="object"&&r.isNew)&&e.jsxs("button",{onClick:()=>{const r=[...p];r[n].exclude_keywords.push({id:Date.now(),value:"",isNew:!0}),h(r)},style:t.addTagBtn,children:["+ ",i.addExcludeKeyword]})]})]}),e.jsxs("div",{style:t.itemRow,children:[e.jsxs("label",{style:t.label,children:[i.nodeSource,":"]}),e.jsxs("div",{style:t.keywordContainer,children:[o.subs.map((r,l)=>e.jsxs("span",{style:{...t.keywordTag,background:r==="all"?"#6c757d":"#17a2b8"},children:[r==="all"?`â­ ${i.all}`:`âœˆï¸ ${r}`,e.jsx("span",{onClick:()=>{const s=[...p];s[n].subs=s[n].subs.filter((c,d)=>d!==l),s[n].subs.length===0&&s[n].include.length===0&&(s[n].subs=["all"]),h(s)},style:t.removeTag,children:"Ã—"})]},`sub-${l}`)),(o.include||[]).map((r,l)=>{let s="ðŸ“¦",c="#6610f2";return r==="DIRECT"&&(s="ðŸŒ",c="#28a745"),r==="REJECT"&&(s="ðŸš«",c="#dc3545"),e.jsxs("span",{style:{...t.keywordTag,background:c},children:[s," ",r,e.jsx("span",{onClick:()=>{const d=[...p];d[n].include=d[n].include.filter((u,b)=>b!==l),d[n].subs.length===0&&d[n].include.length===0&&(d[n].subs=["all"]),h(d)},style:t.removeTag,children:"Ã—"})]},`inc-${l}`)}),e.jsxs("button",{onClick:r=>{pe(n);const s=window.innerHeight-r.clientY<350?"bottom":"top";de({x:r.clientX,y:r.clientY+5,verticalAlign:s}),Z(""),O(!0)},style:t.addTagBtn,children:["+ ",i.selectSub]})]})]}),e.jsx("div",{style:{...t.checkboxRow,flexDirection:"row",alignItems:"center",marginTop:"10px",marginBottom:"5px"},children:e.jsxs("label",{style:t.checkboxLabel,children:[e.jsx("input",{type:"checkbox",checked:o.use_pre_proxy||!1,onChange:r=>{const l=[...p];l[n].use_pre_proxy=r.target.checked,r.target.checked||delete l[n].pre_proxy_group,h(l)},style:t.checkbox}),e.jsx("span",{style:t.checkboxText,children:i.usePreProxy})]})}),o.use_pre_proxy&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:t.itemRow,children:[e.jsxs("label",{style:t.label,children:[i.selectPreProxy,":"]}),e.jsxs("div",{style:{position:"relative",width:ae,display:"flex"},children:[e.jsx("input",{type:"text",value:o.pre_proxy_group||"",onChange:r=>{const l=[...p];l[n].pre_proxy_group=r.target.value,h(l)},onFocus:r=>{r.target.select();const l=r.target.getBoundingClientRect(),s=window.innerHeight-l.bottom;X(s<250?"up":"down"),L(n)},onBlur:()=>{setTimeout(()=>L(null),200)},style:{...t.input,paddingLeft:o.pre_proxy_group?"30px":"10px"},placeholder:a?"é€‰æ‹©æˆ–è¾“å…¥...":"Select or type...",spellCheck:!1}),o.pre_proxy_group&&e.jsx("div",{onClick:r=>{r.preventDefault(),r.stopPropagation();const l=[...p];l[n].pre_proxy_group="",h(l),L(n)},style:t.clearBtn,title:a?"æ¸…é™¤":"Clear",children:"Ã—"}),xe===n&&e.jsxs("div",{style:{...t.dropdownList,...$==="up"?{top:"auto",bottom:"100%",borderRadius:"8px 8px 0 0",borderBottom:"none",borderTop:"1px solid var(--btn-bg)"}:{}},children:[p.filter((r,l)=>l!==n&&(!o.pre_proxy_group||r.name.toLowerCase().includes((o.pre_proxy_group||"").toLowerCase()))).map((r,l)=>e.jsx("div",{onMouseDown:s=>{s.preventDefault();const c=[...p];c[n].pre_proxy_group=r.name,h(c),L(null)},onMouseEnter:s=>{s.currentTarget.style.background="var(--color-background2)"},onMouseLeave:s=>{s.currentTarget.style.background="transparent"},style:t.dropdownItem,children:r.name},l)),p.filter((r,l)=>l!==n&&(!o.pre_proxy_group||r.name.toLowerCase().includes((o.pre_proxy_group||"").toLowerCase()))).length===0&&e.jsx("div",{style:{...t.dropdownItem,cursor:"default",opacity:.6},children:a?"å›žè½¦å¯ä½¿ç”¨è‡ªå®šä¹‰å€¼":"Press Enter to use custom value"})]})]})]}),o.pre_proxy_group&&e.jsxs("div",{style:{...t.itemRow,marginTop:"-5px",marginBottom:"10px"},children:[e.jsx("label",{style:t.label}),e.jsx("div",{style:{...t.ruleHint,border:"1px solid #17a2b8",color:"var(--color-text-primary)"},children:i.preProxyHint.replace(/{{preProxy}}/g,o.pre_proxy_group).replace(/{{currentGroup}}/g,o.name||(a?"å½“å‰èŠ‚ç‚¹ç»„":"This Group"))})]})]}),o.include&&o.include.length>0&&(o.keywords&&o.keywords.length>0||o.exclude_keywords&&o.exclude_keywords.length>0)&&e.jsxs("div",{style:{...t.itemRow,marginTop:"-10px",marginBottom:"15px"},children:[e.jsx("label",{style:t.label}),e.jsx("div",{style:{...t.ruleHint,padding:"8px 12px",fontSize:"0.8em",border:"1px solid #ff9800",marginTop:0,maxWidth:"600px",display:"flex",alignItems:"center",gap:"8px"},children:i.keywordFilterHint})]})]},n)),e.jsx("div",{style:t.sectionFooter,children:e.jsxs("button",{onClick:()=>h([...p,{name:"",keywords:[],exclude_keywords:[],subs:["all"],include:[],mode:"manual",speedtest_url:"",interval:""}]),style:t.addBtnNodes,children:["+ ",i.addNodeGroup]})})]}),e.jsxs("section",{style:t.sectionRules,children:[e.jsx("div",{style:t.sectionHeader,children:e.jsx("h2",{style:t.sectionTitleRules,children:i.ruleSetsTitle})}),x.length===0?e.jsx("div",{style:t.emptyState,children:i.emptyState}):x.map((o,n)=>{const r=x.length;let l=`${i.priority} ${o.priority}`;return o.priority===1?l=i.topPriority:o.priority===2?l=i.highPriority:o.priority===r&&(l=i.lastPriority),e.jsxs("div",{style:{...t.item,...(f==null?void 0:f.type)==="ruleSet"&&f.index===n?{animation:"highlight 0.8s ease-out",borderColor:"#ff9800",boxShadow:"0 0 10px rgba(255, 152, 0, 0.5)"}:{}},onMouseEnter:()=>te(n),onMouseLeave:()=>te(null),children:[e.jsxs("div",{style:t.itemHeader,children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[e.jsxs("span",{style:t.itemNumber,children:["#",n+1]}),e.jsx("span",{style:{...t.priorityBadge,background:je(o.priority,r)},children:l}),o.editingRemark?e.jsx("input",{type:"text",autoFocus:!0,value:o.editingRemark.value,onChange:s=>{const c=[...x];c[n].editingRemark.value=s.target.value,m(c)},onBlur:()=>{const s=[...x];s[n].remark=s[n].editingRemark.value,delete s[n].editingRemark,m(s)},onKeyPress:s=>{s.key==="Enter"&&s.target.blur()},style:t.remarkInput,placeholder:i.addRemark,spellCheck:!1}):e.jsx("span",{onClick:()=>{const s=[...x];s[n].editingRemark={id:Date.now(),value:o.remark},m(s)},style:t.remarkText,children:o.remark||i.addRemark})]}),e.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[e.jsxs("button",{onClick:()=>se(n,"up"),disabled:n===0,style:n===0?{...t.priorityBtn,opacity:.3,cursor:"not-allowed"}:t.priorityBtn,children:["â†‘ ",i.moveUp]}),e.jsxs("button",{onClick:()=>se(n,"down"),disabled:n===x.length-1,style:n===x.length-1?{...t.priorityBtn,opacity:.3,cursor:"not-allowed"}:t.priorityBtn,children:["â†“ ",i.moveDown]}),e.jsx("button",{onClick:()=>Se(n),style:t.copyBtn,children:i.copy}),e.jsx("button",{onClick:s=>C({type:"ruleSet",index:n,x:s.clientX,y:s.clientY}),style:t.deleteBtn,children:i.deleteRuleSet})]})]}),e.jsxs("div",{style:t.itemRow,children:[e.jsxs("label",{style:t.label,children:[i.ruleType,":"]}),e.jsxs("div",{style:t.radioGroup,children:[e.jsxs("label",{style:t.radioLabel,children:[e.jsx("input",{type:"radio",checked:o.type==="manual",onChange:()=>{const s=[...x];s[n].type="manual",m(s)},style:t.radio}),e.jsx("span",{children:i.manualRule})]}),e.jsxs("label",{style:t.radioLabel,children:[e.jsx("input",{type:"radio",checked:o.type==="url",onChange:()=>{const s=[...x];s[n].type="url",m(s)},style:t.radio}),e.jsx("span",{children:i.urlDownload})]}),e.jsxs("label",{style:t.radioLabel,children:[e.jsx("input",{type:"radio",checked:o.type==="rule-set",onChange:()=>{const s=[...x];s[n].type="rule-set",s[n].behavior||(s[n].behavior="classical"),s[n].interval||(s[n].interval=86400),s[n].name||(s[n].name=""),s[n].format||(s[n].format="yaml"),m(s)},style:t.radio}),e.jsx("span",{children:i.ruleSetType})]})]})]}),o.type==="rule-set"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:t.itemRow,children:[e.jsxs("label",{style:{...t.label,width:"auto",minWidth:"60px"},children:[i.name,":"]}),e.jsx("input",{type:"text",value:o.name||"",title:o.name||"",onChange:s=>{const c=[...x];c[n].name=s.target.value,m(c)},onFocus:s=>{s.target.style.boxShadow="0 0 0 3px rgba(0, 123, 255, 0.25)",s.target.style.borderColor="#007bff"},onBlur:s=>{s.target.style.boxShadow="none",s.target.style.borderColor="#dee2e6"},style:{...t.input,flex:"none",width:"190px"},placeholder:a?"ä¾‹å¦‚: openai":"e.g. openai",spellCheck:!1}),e.jsxs("label",{style:{...t.label,minWidth:"auto",marginLeft:"10px"},children:[i.ruleUrl,":"]}),e.jsx("input",{type:"text",value:o.rule_set_url||"",title:o.rule_set_url||"",onChange:s=>{const c=s.target.value,d=[...x];d[n].rule_set_url=c,c.toLowerCase().endsWith(".mrs")?d[n].format="mrs":c.toLowerCase().endsWith(".yaml")||c.toLowerCase().endsWith(".yml")?d[n].format="yaml":c.toLowerCase().endsWith(".txt")&&(d[n].format="text"),m(d)},style:{...t.input,direction:"rtl"},placeholder:a?"RULE-SETæ–‡ä»¶ä¸‹è½½åœ°å€":"Rule Set URL",spellCheck:!1})]}),e.jsxs("div",{style:t.itemRow,children:[e.jsxs("label",{style:{...t.label,width:"auto",minWidth:"60px"},children:[i.ruleFormat,":"]}),e.jsxs("select",{value:o.format||"yaml",onChange:s=>{const c=[...x];c[n].format=s.target.value,m(c)},style:{...t.input,cursor:"pointer",flex:"none",width:"90px"},children:[e.jsx("option",{value:"yaml",children:"yaml"}),e.jsx("option",{value:"text",children:"text"}),e.jsx("option",{value:"mrs",children:"mrs"})]}),e.jsxs("label",{style:{...t.label,minWidth:"auto",marginLeft:"10px"},children:[i.behavior,":"]}),e.jsxs("select",{value:o.behavior||"classical",onChange:s=>{const c=[...x];c[n].behavior=s.target.value,m(c)},style:{...t.input,cursor:"pointer",flex:"none",width:"110px"},children:[e.jsx("option",{value:"classical",children:"classical"}),e.jsx("option",{value:"domain",children:"domain"}),e.jsx("option",{value:"ipcidr",children:"ipcidr"})]}),e.jsxs("label",{style:{...t.label,minWidth:"auto",marginLeft:"10px"},children:[i.ruleSetInterval,":"]}),e.jsx("input",{type:"number",value:o.interval||86400,title:String(o.interval||86400),onChange:s=>{const c=[...x];c[n].interval=parseInt(s.target.value)||86400,m(c)},style:{...t.input,flex:"none",width:"100px"},spellCheck:!1})]}),e.jsx("div",{style:{...t.checkboxRow,flexDirection:"row",alignItems:"center"},children:e.jsxs("label",{style:t.checkboxLabel,children:[e.jsx("input",{type:"checkbox",checked:o.use_proxy||!1,onChange:s=>{const c=[...x];c[n].use_proxy=s.target.checked,s.target.checked||delete c[n].proxy_group,m(c)},style:t.checkbox}),e.jsx("span",{style:t.checkboxText,children:i.downloadViaProxy})]})}),o.use_proxy&&e.jsxs("div",{style:t.itemRow,children:[e.jsxs("label",{style:t.label,children:[i.selectProxy,":"]}),e.jsxs("div",{style:{position:"relative",width:ae,display:"flex"},children:[e.jsx("input",{type:"text",value:o.proxy_group||"",title:o.proxy_group||"",onChange:s=>{const c=[...x];c[n].proxy_group=s.target.value,m(c)},onFocus:s=>{const c=s.target.getBoundingClientRect(),d=window.innerHeight-c.bottom;X(d<250?"up":"down"),N(n),s.target.select()},onBlur:()=>{setTimeout(()=>N(null),200)},style:{...t.input,paddingLeft:o.proxy_group?"30px":"10px"},placeholder:i.selectProxy,spellCheck:!1}),o.proxy_group&&e.jsx("div",{onClick:s=>{s.preventDefault(),s.stopPropagation();const c=[...x];c[n].proxy_group="",m(c),N(n)},style:t.clearBtn,title:a?"æ¸…é™¤":"Clear",children:"Ã—"}),ue===n&&e.jsxs("div",{style:{...t.dropdownList,...$==="up"?{top:"auto",bottom:"100%",borderRadius:"8px 8px 0 0",borderBottom:"none",borderTop:"1px solid var(--btn-bg)"}:{}},children:[p.filter(s=>!o.proxy_group||s.name.toLowerCase().includes((o.proxy_group||"").toLowerCase())).map((s,c)=>e.jsx("div",{onMouseDown:d=>{d.preventDefault();const u=[...x];u[n].proxy_group=s.name,m(u),N(null)},onMouseEnter:d=>{d.currentTarget.style.background="var(--color-background2)"},onMouseLeave:d=>{d.currentTarget.style.background="transparent"},style:t.dropdownItem,children:s.name},c)),p.filter(s=>!o.proxy_group||s.name.toLowerCase().includes((o.proxy_group||"").toLowerCase())).length===0&&e.jsx("div",{style:{...t.dropdownItem,cursor:"default",opacity:.6},children:a?"å›žè½¦å¯ä½¿ç”¨è‡ªå®šä¹‰å€¼":"Press Enter to use custom value"})]})]})]}),ee===n&&e.jsx("div",{style:{...t.ruleHint,marginTop:"10px"},children:a?e.jsxs(e.Fragment,{children:["RULE-SET è¯´æ˜Ž: RULE-SETæ˜¯è§„åˆ™å¯¹è±¡é›†åˆï¼Œè°ƒç”¨æ–¹å¼: åœ¨å…¶ä»–è§„åˆ™ä¸­ä½¿ç”¨ RULE-SET,RULESETåç§°,èŠ‚ç‚¹ç»„ã€‚",e.jsx("br",{}),"ä¾‹å¦‚: åç§°ä¸º openaiï¼Œè°ƒç”¨è§„åˆ™å†™ RULE-SET,openai,AIä¸“ç”¨",e.jsx("br",{}),"æ­¤è®¢é˜…ç”±Clash/Mihomoæ ¸å¿ƒç›´æŽ¥ç®¡ç†ï¼Œå¦‚ä¸‹è½½å¤±è´¥å°†å¯¼è‡´æ ¸å¿ƒæ— æ³•å¯åŠ¨ã€‚"]}):e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"RULE-SET Note:"})," RULE-SET is a collection of rule objects. Usage: In other rules, use RULE-SET,RuleSetName,NodeGroup.",e.jsx("br",{}),"Example: If name is openai, use RULE-SET,openai,AI-Nodes",e.jsx("br",{}),"This subscription is managed directly by Clash/Mihomo core. Boot failure will occur if download fails."]})})]}):o.type==="url"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:t.itemRow,children:[e.jsxs("label",{style:t.label,children:[i.ruleUrl,":"]}),e.jsx("input",{type:"text",value:o.url,title:o.url,onChange:s=>{const c=[...x];c[n].url=s.target.value,m(c)},onFocus:s=>{s.target.style.boxShadow="0 0 0 3px rgba(0, 123, 255, 0.25)",s.target.style.borderColor="#007bff"},onBlur:s=>{s.target.style.boxShadow="none",s.target.style.borderColor="#dee2e6"},style:t.input,placeholder:a?"è§„åˆ™æ–‡ä»¶ä¸‹è½½åœ°å€":"Rule file download URL",spellCheck:!1})]}),e.jsxs("div",{style:{...t.checkboxRow,flexDirection:"row",alignItems:"center"},children:[e.jsxs("label",{style:t.checkboxLabel,children:[e.jsx("input",{type:"checkbox",checked:o.isforced||!1,onChange:s=>{const c=[...x];c[n].isforced=s.target.checked,m(c)},style:t.checkbox}),e.jsx("span",{style:t.checkboxText,children:i.forcedDep})]}),e.jsx("span",{style:{...t.checkboxDesc,marginLeft:"10px"},children:i.forcedDepDesc})]})]}):e.jsxs("div",{style:{...t.itemRow,flexDirection:"column",alignItems:"stretch"},children:[e.jsxs("label",{style:t.label,children:[i.ruleContent,":"]}),e.jsx("textarea",{value:o.content,onChange:s=>{const c=[...x];c[n].content=s.target.value,m(c)},onFocus:s=>{s.target.style.boxShadow="0 0 0 3px rgba(0, 123, 255, 0.25)",s.target.style.borderColor="#007bff"},onBlur:s=>{s.target.style.boxShadow="none",s.target.style.borderColor="#dee2e6"},style:t.textarea,placeholder:a?`åœ¨æ­¤è¾“å…¥è§„åˆ™å†…å®¹ï¼Œä¾‹å¦‚:
DOMAIN,dmm.com,JP
DOMAIN,ad.com,REJECT
GEOSITE,openai,aiä¸“ç”¨`:`Enter rule content here, e.g.:
DOMAIN,dmm.com,JP
DOMAIN,ad.com,REJECT
GEOSITE,openai,ai-nodes`,spellCheck:!1}),ee===n&&e.jsx("div",{style:t.ruleHint,children:a?e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"æ”¯æŒçš„è§„åˆ™ç±»åž‹:"})," DOMAIN, GEOSITE, IP-CIDR, IP-ASN, GEOIP, MATCHç­‰",e.jsx("br",{}),e.jsx("strong",{children:"æ ¼å¼:"})," è§„åˆ™ç±»åž‹,åŒ¹é…å†…å®¹,èŠ‚ç‚¹ç»„åç§°ï¼ˆæˆ–è€…å†…ç½®ç­–ç•¥ï¼šREJECTã€DIRECTï¼‰ (ä¾‹å¦‚: GEOSITE,openai,aiä¸“ç”¨)",e.jsx("br",{}),e.jsx("a",{href:"https://wiki.metacubex.one/config/rules/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"è§„åˆ™è¯­æ³•å‚è€ƒ"}),e.jsx("br",{}),e.jsx("a",{href:"https://github.com/v2fly/domain-list-community/tree/master/data",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"geositeå‚è€ƒ"}),e.jsx("br",{}),e.jsx("strong",{children:"æç¤º:"})," è¯·å°½é‡ä½¿ç”¨åŸŸåè§„åˆ™(GEOSITE,DOMAIN)ï¼Œä½¿ç”¨IPç›¸å…³è§„åˆ™ä¼šè§¦å‘é¢å¤–çš„DNSè§£æžåŠ¨ä½œã€‚",e.jsx("br",{}),e.jsx("strong",{children:"é‡è¦:"})," è¯·ä¸è¦å¿˜è®°æœ€åŽä½¿ç”¨matchè§„åˆ™å…œåº•ï¼Œæ¯”å¦‚match,allï¼ˆå‡è®¾ä½ æœ‰ä¸€ä¸ªèŠ‚ç‚¹ç»„å«allï¼‰"]}):e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"Supported rule types:"})," DOMAIN, GEOSITE, IP-CIDR, IP-ASN, GEOIP, MATCH, etc.",e.jsx("br",{}),e.jsx("strong",{children:"Format:"})," RuleType,MatchContent,NodeGroupName (or built-in policy: REJECT, DIRECT) (e.g. GEOSITE,openai,ai-nodes)",e.jsx("br",{}),e.jsx("a",{href:"https://wiki.metacubex.one/config/rules/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"Rule Syntax Reference"}),e.jsx("br",{}),e.jsx("a",{href:"https://github.com/v2fly/domain-list-community/tree/master/data",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"Geosite Reference"}),e.jsx("br",{}),e.jsx("strong",{children:"Tip:"})," Prefer domain-based rules (GEOSITE,DOMAIN) as IP-based rules trigger additional DNS resolution.",e.jsx("br",{}),e.jsx("strong",{children:"Important:"}),` Don't forget to add a match rule as fallback, e.g. match,all (assuming you have a node group named "all")`]})})]})]},n)}),e.jsx("div",{style:t.sectionFooter,children:e.jsxs("button",{onClick:()=>m([...x,{priority:x.length+1,remark:"",name:"",type:"manual",url:"",rule_set_url:"",content:"",isforced:!1,behavior:"classical",interval:86400,format:"yaml"}]),style:t.addBtnRules,children:["+ ",i.addRuleSet]})})]})]}),e.jsxs("footer",{style:t.footer,children:["Â© PaoPaoGateWay | ",e.jsx("a",{href:"https://github.com/kkkgo/PaoPaoGateWay",target:"_blank",rel:"noopener noreferrer",style:t.footerLink,children:"GitHub"})]})]}),R&&e.jsxs("div",{style:{...t.deleteConfirmPopup,left:R.x,top:R.y},children:[e.jsx("button",{onClick:()=>ge(R.type,R.index),style:t.confirmDeleteBtn,children:i.confirm}),e.jsx("button",{onClick:()=>C(null),style:t.cancelDeleteBtn,children:i.cancel})]}),J&&j!==null&&e.jsxs("div",{style:{...t.subsPopup,left:E.x,...E.verticalAlign==="bottom"?{top:"auto",bottom:window.innerHeight-(E.y-5)+10}:{top:E.y}},onClick:o=>o.stopPropagation(),children:[e.jsxs("select",{value:T,onChange:o=>ye(o.target.value),style:t.filterSelect,children:[e.jsx("option",{value:"sub",children:i.filterSub}),e.jsx("option",{value:"group",children:i.filterGroup}),e.jsx("option",{value:"both",children:i.filterBoth})]}),e.jsx("input",{type:"text",autoFocus:!0,value:_,onChange:o=>Z(o.target.value),placeholder:a?"æœç´¢...":"Search...",style:t.subsSearchInput,spellCheck:!1}),e.jsx("div",{style:{margin:"5px 0",borderBottom:"1px solid var(--color-separator)"}}),T!=="group"&&("all".includes(_.toLowerCase())||_==="")&&e.jsxs("div",{onClick:()=>{const o=[...p];o[j].subs=["all"],o[j].include=[],h(o),O(!1)},style:t.subsItem,children:[p[j].subs.includes("all")?"âœ“ ":"","â­ ",i.all]}),(()=>{let o=[];(T==="sub"||T==="both")&&(o=o.concat(g.map(r=>({name:r.name,type:"sub"})))),(T==="group"||T==="both")&&(o=o.concat(p.map((r,l)=>({name:r.name,type:"group",index:l})).filter(r=>r.index!==j)),o.push({name:"DIRECT",type:"group"}),o.push({name:"REJECT",type:"group"}));const n=o.filter(r=>r.name&&r.name.toLowerCase().includes(_.toLowerCase()));return n.length===0&&_!==""?e.jsx("div",{style:{...t.subsItem,opacity:.5,cursor:"default"},children:a?"æ— åŒ¹é…é¡¹":"No matches"}):n.length===0&&_===""?e.jsx("div",{style:{...t.subsItem,opacity:.5,cursor:"default"},children:a?"æš‚æ— æ•°æ®":"No data"}):n.map((r,l)=>{const s=p[j],c=r.type==="sub"?s.subs.includes(r.name):(s.include||[]).includes(r.name);return e.jsxs("div",{onClick:()=>{const d=[...p],u=d[j];if(u.subs.includes("all")&&(u.subs=[]),r.type==="sub"){const b=u.subs.indexOf(r.name);b>-1?u.subs.splice(b,1):u.subs.push(r.name)}else{u.include||(u.include=[]);const b=u.include.indexOf(r.name);b>-1?u.include.splice(b,1):u.include.push(r.name)}u.subs.length===0&&(!u.include||u.include.length===0)&&(u.subs=["all"]),h(d)},onMouseEnter:d=>{d.currentTarget.style.background="var(--color-background2)"},onMouseLeave:d=>{d.currentTarget.style.background="transparent"},style:t.subsItem,children:[c?"âœ“ ":"",r.type==="group"?r.name==="DIRECT"?"ðŸŒ ":r.name==="REJECT"?"ðŸš« ":"ðŸ“¦ ":"âœˆï¸ ",r.name]},`${r.type}-${l}`)})})()]}),(J||R)&&e.jsx("div",{style:{...t.overlay,background:"transparent",backdropFilter:"none",pointerEvents:"auto"},onClick:()=>{O(!1),C(null)}})]})}const t={body:{fontFamily:"var(--font-normal)",background:"var(--color-background)",minHeight:"100vh",padding:"20px",color:"var(--color-text)"},container:{maxWidth:"1200px",margin:"0 auto",background:"var(--color-bg-card)",borderRadius:"16px",boxShadow:"0 10px 40px rgba(0, 0, 0, 0.2)",overflow:"hidden",border:"1px solid var(--color-separator)"},header:{background:"var(--color-bg-sidebar)",borderBottom:"1px solid var(--color-separator)",padding:"24px 40px",display:"flex",justifyContent:"space-between",alignItems:"center"},titleContainer:{display:"flex",alignItems:"center",gap:"15px"},logo:{width:"48px",height:"48px",objectFit:"contain"},title:{margin:0,fontSize:"1.8em",fontWeight:700,color:"var(--color-text)"},headerActions:{display:"flex",gap:"15px"},content:{padding:"30px 40px"},exportBtn:{padding:"10px 24px",border:"none",borderRadius:"8px",background:"#28a745",color:"#fff",fontSize:"0.95em",fontWeight:600,cursor:"pointer",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},importBtn:{padding:"10px 24px",border:"none",borderRadius:"8px",background:"var(--btn-bg)",color:"#fff",fontSize:"0.95em",fontWeight:600,cursor:"pointer",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},loadBtn:{padding:"10px 24px",border:"none",borderRadius:"8px",background:"#f7931e",color:"#fff",fontSize:"0.95em",fontWeight:600,cursor:"pointer",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},geoBtn:{padding:"10px 24px",border:"none",borderRadius:"8px",background:"#67c23a",color:"#fff",fontSize:"0.95em",fontWeight:600,cursor:"pointer",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},sectionMonitor:{marginBottom:"30px",padding:"25px",background:"var(--bg-near-transparent)",borderRadius:"12px",border:"1px solid #4db6ac",borderLeft:"5px solid #009688"},sectionTitleMonitor:{margin:0,fontSize:"1.4em",fontWeight:700,color:"#26a69a"},sectionSubs:{marginBottom:"30px",padding:"25px",background:"var(--bg-near-transparent)",borderRadius:"12px",border:"1px solid #90caf9",borderLeft:"5px solid #1565c0"},sectionNodes:{marginBottom:"30px",padding:"25px",background:"var(--bg-near-transparent)",borderRadius:"12px",border:"1px solid #ce93d8",borderLeft:"5px solid #7b1fa2"},sectionRules:{marginBottom:"30px",padding:"25px",background:"var(--bg-near-transparent)",borderRadius:"12px",border:"1px solid #ffb74d",borderLeft:"5px solid #e65100"},sectionHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},sectionTitleSubs:{margin:0,fontSize:"1.4em",fontWeight:700,color:"#42a5f5"},sectionTitleNodes:{margin:0,fontSize:"1.4em",fontWeight:700,color:"#ab47bc"},sectionTitleRules:{margin:0,fontSize:"1.4em",fontWeight:700,color:"#ff9800"},sectionFooter:{marginTop:"15px",display:"flex",justifyContent:"center"},addBtnSubs:{width:"100%",padding:"12px",border:"1px dashed #90caf9",borderRadius:"8px",background:"var(--color-background2)",color:"#42a5f5",fontSize:"1em",fontWeight:600,cursor:"pointer",transition:"all 0.2s"},addBtnNodes:{width:"100%",padding:"12px",border:"1px dashed #ce93d8",borderRadius:"8px",background:"var(--color-background2)",color:"#ab47bc",fontSize:"1em",fontWeight:600,cursor:"pointer",transition:"all 0.2s"},addBtnRules:{width:"100%",padding:"12px",border:"1px dashed #ffb74d",borderRadius:"8px",background:"var(--color-background2)",color:"#ff9800",fontSize:"1em",fontWeight:600,cursor:"pointer",transition:"all 0.2s"},item:{background:"var(--color-bg-card)",borderRadius:"10px",padding:"20px",marginBottom:"15px",border:"1px solid var(--color-separator)",transition:"all 0.2s",boxShadow:"0 2px 5px rgba(0,0,0,0.05)"},itemHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px",paddingBottom:"12px",borderBottom:"1px solid var(--color-separator)"},itemNumber:{display:"inline-block",width:"28px",height:"28px",lineHeight:"28px",textAlign:"center",background:"var(--color-row-odd)",color:"var(--color-text)",borderRadius:"50%",fontWeight:700,fontSize:"0.85em"},itemName:{marginLeft:"12px",fontSize:"1.05em",color:"var(--color-text)",fontWeight:600},deleteBtn:{padding:"6px 14px",borderRadius:"6px",background:"transparent",color:"#ff4d4f",border:"1px solid #ff4d4f",fontSize:"0.85em",fontWeight:600,cursor:"pointer",transition:"all 0.2s"},copyBtn:{padding:"6px 14px",borderRadius:"6px",background:"transparent",color:"#17a2b8",border:"1px solid #17a2b8",fontSize:"0.85em",fontWeight:600,cursor:"pointer",transition:"all 0.2s"},itemRow:{display:"flex",alignItems:"flex-start",gap:"15px",marginBottom:"15px",flexWrap:"wrap"},label:{minWidth:"140px",fontWeight:600,color:"var(--color-text-secondary)",paddingTop:"10px",fontSize:"0.95em"},input:{flex:1,padding:"10px 14px",border:"1px solid var(--color-input-border)",borderRadius:"8px",fontSize:"0.95em",background:"var(--color-input-bg)",color:"var(--color-text)",transition:"all 0.2s",outline:"none"},checkboxRow:{display:"flex",flexDirection:"column",gap:"8px",marginBottom:"15px"},checkboxLabel:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",color:"var(--color-text)"},checkbox:{width:"18px",height:"18px",cursor:"pointer",background:"var(--color-input-bg)",accentColor:"var(--btn-bg)"},checkboxText:{fontWeight:600,color:"var(--color-text)",fontSize:"0.95em"},checkboxDesc:{fontSize:"0.85em",color:"var(--color-text-secondary)",marginLeft:"26px"},radioGroup:{display:"flex",gap:"20px",flex:1,paddingTop:"10px",flexWrap:"wrap"},radioLabel:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",fontSize:"0.95em",background:"var(--color-input-bg)",color:"var(--color-text)",padding:"8px 12px",borderRadius:"6px",border:"1px solid var(--color-input-border)",transition:"all 0.2s"},radio:{width:"16px",height:"16px",cursor:"pointer",accentColor:"var(--btn-bg)"},keywordContainer:{flex:1,display:"flex",flexWrap:"wrap",gap:"8px",alignItems:"center"},keywordTag:{display:"inline-flex",alignItems:"center",gap:"6px",padding:"4px 10px",borderRadius:"20px",color:"#fff",fontSize:"0.9em",fontWeight:600,boxShadow:"0 1px 3px rgba(0,0,0,0.2)"},removeTag:{cursor:"pointer",fontSize:"1.2em",fontWeight:700,opacity:.8},addTagBtn:{padding:"6px 14px",border:"1px dashed var(--color-text-secondary)",borderRadius:"20px",background:"transparent",color:"var(--color-text-secondary)",fontSize:"0.9em",fontWeight:600,cursor:"pointer",transition:"all 0.2s"},keywordInput:{padding:"6px 12px",border:"1px solid var(--btn-bg)",borderRadius:"20px",fontSize:"0.9em",minWidth:"120px",background:"var(--color-input-bg)",color:"var(--color-text)",outline:"none"},priorityBadge:{padding:"4px 10px",borderRadius:"4px",color:"white",fontSize:"0.85em",fontWeight:700},priorityBtn:{padding:"6px 12px",border:"1px solid var(--color-separator)",borderRadius:"6px",background:"var(--color-background2)",color:"var(--color-text)",fontSize:"0.85em",fontWeight:600,cursor:"pointer"},remarkText:{color:"var(--color-text-secondary)",fontStyle:"italic",cursor:"pointer",fontSize:"0.95em",borderBottom:"1px dashed var(--color-separator)"},remarkInput:{padding:"6px 12px",border:"1px solid var(--btn-bg)",borderRadius:"6px",fontSize:"0.95em",minWidth:"200px",background:"var(--color-input-bg)",color:"var(--color-text)",outline:"none"},textarea:{width:"100%",padding:"12px 16px",border:"1px solid var(--color-input-border)",borderRadius:"8px",fontFamily:"var(--font-normal)",fontSize:"0.9em",minHeight:"200px",resize:"vertical",lineHeight:"1.6",background:"var(--color-input-bg)",color:"var(--color-text)",outline:"none",boxSizing:"border-box"},emptyState:{textAlign:"center",color:"var(--color-text-secondary)",padding:"40px 20px",fontSize:"1em"},footer:{background:"var(--color-bg-sidebar)",borderTop:"1px solid var(--color-separator)",padding:"20px",textAlign:"center",color:"var(--color-text-secondary)",fontSize:"0.9em"},footerLink:{color:"var(--btn-bg)",textDecoration:"none",fontWeight:600},deleteConfirmPopup:{position:"fixed",background:"var(--color-bg-card)",borderRadius:"10px",padding:"16px",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.4)",zIndex:10002,display:"flex",gap:"10px",border:"1px solid var(--color-separator)"},confirmDeleteBtn:{padding:"8px 18px",border:"none",borderRadius:"6px",background:"#dc3545",color:"white",fontSize:"0.9em",fontWeight:600,cursor:"pointer"},cancelDeleteBtn:{padding:"8px 18px",border:"1px solid var(--color-separator)",borderRadius:"6px",background:"var(--color-background)",color:"var(--color-text)",fontSize:"0.9em",fontWeight:600,cursor:"pointer"},subsPopup:{position:"fixed",background:"var(--color-bg-card)",color:"var(--color-text)",borderRadius:"10px",padding:"8px",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.4)",zIndex:10002,maxHeight:"300px",overflowY:"auto",minWidth:"200px",border:"1px solid var(--color-separator)"},subsSearchInput:{width:"100%",padding:"8px",marginBottom:"4px",border:"1px solid var(--btn-bg)",borderRadius:"6px",fontSize:"0.9em",background:"var(--color-input-bg)",color:"var(--color-text)",outline:"none",boxSizing:"border-box"},clearBtn:{position:"absolute",left:"5px",top:"50%",transform:"translateY(-50%)",cursor:"pointer",color:"var(--color-text-secondary)",fontSize:"1.5em",lineHeight:"1",zIndex:10,fontWeight:300,height:"100%",display:"flex",alignItems:"center",padding:"0 5px"},filterSelect:{width:"100%",padding:"8px",marginBottom:"8px",border:"1px solid var(--btn-bg)",borderRadius:"6px",fontSize:"0.9em",background:"var(--color-input-bg)",color:"var(--color-text)",outline:"none",cursor:"pointer"},ruleHint:{marginTop:"10px",padding:"12px 16px",background:"var(--bg-near-transparent)",border:"1px solid #ffc107",borderRadius:"8px",fontSize:"0.85em",color:"var(--color-text)",lineHeight:"1.6"},subsItem:{padding:"10px 14px",cursor:"pointer",borderRadius:"6px",transition:"background 0.2s",fontSize:"0.95em",background:"var(--color-bg-card)",color:"var(--color-text)"},overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:10001,background:"rgba(0,0,0,0.4)",backdropFilter:"blur(2px)"},keywordHintTooltip:{position:"absolute",top:"110%",left:"0",background:"var(--color-bg-card)",border:"1px solid var(--btn-bg)",padding:"6px 10px",borderRadius:"6px",fontSize:"0.8em",color:"var(--color-text)",boxShadow:"0 4px 12px rgba(0,0,0,0.2)",zIndex:100,whiteSpace:"nowrap",pointerEvents:"none"},notificationBanner:{position:"fixed",top:"20px",left:"50%",transform:"translateX(-50%)",padding:"12px 24px",borderRadius:"8px",zIndex:2e4,fontWeight:600,boxShadow:"0 4px 12px rgba(0,0,0,0.2)",textAlign:"center",maxWidth:"80%",animation:"fadeIn 0.3s ease-in-out"},notificationSuccess:{background:"#d4edda",color:"#155724",border:"1px solid #c3e6cb"},notificationError:{background:"#f8d7da",color:"#721c24",border:"1px solid #f5c6cb"},dropdownList:{position:"absolute",top:"100%",left:0,right:0,background:"var(--color-bg-card)",border:"1px solid var(--btn-bg)",borderRadius:"0 0 8px 8px",maxHeight:"200px",overflowY:"auto",zIndex:1e3,boxShadow:"0 4px 12px rgba(0,0,0,0.15)"},dropdownItem:{padding:"10px 14px",cursor:"pointer",borderBottom:"1px solid var(--color-separator)",fontSize:"0.95em",color:"var(--color-text)",transition:"background 0.2s"}};export{De as default};
